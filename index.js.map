{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./sources/theatre/modules/shape.js","webpack:///./sources/theatre/modules/ease.js","webpack:///./sources/theatre/modules/collide.js","webpack:///./sources/theatre/modules/memory.js","webpack:///(webpack)/buildin/harmony-module.js","webpack:///./sources/game/scenes/level/after.js","webpack:///./sources/game/scenes/level/before.js","webpack:///./sources/game/scenes/level/destroy.js","webpack:///./sources/game/scenes/level/panic.js","webpack:///./sources/game/scenes/level/render.js","webpack:///./sources/game/scenes/level/resize.js","webpack:///./sources/game/scenes/level/start.js","webpack:///./sources/game/scenes/level/update.js","webpack:///./sources/game/scenes/loading/after.js","webpack:///./sources/game/scenes/loading/before.js","webpack:///./sources/game/scenes/loading/destroy.js","webpack:///./sources/game/scenes/loading/panic.js","webpack:///./sources/game/scenes/loading/render.js","webpack:///./sources/game/scenes/loading/resize.js","webpack:///./sources/game/scenes/loading/setup.js","webpack:///./sources/game/scenes/loading/start.js","webpack:///./sources/game/scenes/loading/update.js","webpack:///./sources/theatre/modules/gamepad.js","webpack:///./sources/theatre/modules/keynames.js","webpack:///./sources/theatre/modules/controllers.js","webpack:///./sources/theatre/modules/keyboard.js","webpack:///./sources/theatre/modules/mouse.js","webpack:///./sources/game/scenes/level/setup.js","webpack:///./sources/theatre/core/theatre.js","webpack:///./sources/theatre/core/canvas.js","webpack:///./sources/theatre/core/loop.js","webpack:///./sources/theatre/core/preload.js","webpack:///./sources/index.js","webpack:///./sources/game/assets lazy \\.[a-zA-Z0-9]+$","webpack:///./sources/game/components sync ^\\.\\/[^\\/]+\\.json$","webpack:///./sources/game/entities sync ^\\.\\/([^\\/]+)\\/([^\\/]+)\\.json$","webpack:///./sources/game/pools sync ^\\.\\/([^\\/]+)\\/([^\\/]+)\\.json$","webpack:///./sources/game/scenes sync ^\\.\\/([^\\/]+)\\/index\\.js$","webpack:///./sources/game/scenes/level/index.js","webpack:///./sources/game/scenes/loading/index.js","webpack:///./sources/game/snippets sync ^\\.\\/([^\\/]+)\\/([^\\/]+)\\.js$","webpack:///./sources/game/snippets/common/easing-in-quart.js","webpack:///./sources/game/snippets/common/easing-linear.js","webpack:///./sources/game/snippets/common/easing-out-cubic.js","webpack:///./sources/game/snippets/common/easing-sine-half.js","webpack:///./sources/game/snippets/common/easing-sine.js","webpack:///./sources/game/snippets/common/handle-command.js","webpack:///./sources/game/snippets/common/handle-fade-ending.js","webpack:///./sources/game/snippets/common/handle-forces-ending.js","webpack:///./sources/game/snippets/common/handle-hitbox.js","webpack:///./sources/game/snippets/common/handle-state.js","webpack:///./sources/game/snippets/common/handle-timeout-ending.js","webpack:///./sources/game/snippets/common/remove-entity.js","webpack:///./sources/game/snippets/common/remove-fade.js","webpack:///./sources/game/snippets/common/remove-forces.js","webpack:///./sources/game/snippets/common/remove-hitbox.js","webpack:///./sources/game/snippets/common/remove-timeout.js","webpack:///./sources/game/snippets/common/restart.js","webpack:///./sources/game/snippets/level/best-score.js","webpack:///./sources/game/snippets/level/game-over.js","webpack:///./sources/game/snippets/level/handle-jump.js","webpack:///./sources/game/snippets/level/hit-score.js","webpack:///./sources/game/snippets/level/reload-chunk.js","webpack:///./sources/game/snippets/level/reset-position.js","webpack:///./sources/game/snippets/level/start-game.js","webpack:///./sources/game/systems sync ^\\.\\/([^\\/]+)\\/([^\\/]+)\\.js$","webpack:///./sources/game/systems/common/commands.js","webpack:///./sources/game/systems/common/fade.js","webpack:///./sources/game/systems/common/forces.js","webpack:///./sources/game/systems/common/hitbox.js","webpack:///./sources/game/systems/common/images.js","webpack:///./sources/game/systems/common/inputs.js","webpack:///./sources/game/systems/common/previous.js","webpack:///./sources/game/systems/common/spritesheets.js","webpack:///./sources/game/systems/common/state.js","webpack:///./sources/game/systems/common/timeout.js","webpack:///./sources/game/systems/common/velocity.js","webpack:///./sources/game/systems/debug/camera.js","webpack:///./sources/game/systems/debug/hitbox.js","webpack:///./sources/game/systems/debug/inputs.js","webpack:///./sources/game/systems/debug/pause.js","webpack:///./sources/game/systems/debug/spritesheet.js","webpack:///./sources/game/snippets/level/add-chunk.js","webpack:///./sources/theatre/modules/random.js","webpack:///./sources/theatre/modules/world.js","webpack:///./sources/game/snippets/common/setup-world.js","webpack:///./sources/theatre/modules/camera.js","webpack:///./sources/game/snippets/common/setup-camera.js"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","i","resolves","length","installedChunks","push","Object","prototype","hasOwnProperty","call","modules","parentJsonpFunction","shift","installedModules","0","__webpack_require__","exports","module","l","e","promises","installedChunkData","promise","Promise","resolve","reject","onScriptComplete","head","document","getElementsByTagName","script","createElement","charset","timeout","nc","setAttribute","src","p","jsonpScriptSrc","event","onerror","onload","clearTimeout","chunk","errorType","type","realSrc","target","error","Error","request","undefined","setTimeout","appendChild","all","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","oe","err","console","jsonpArray","window","oldJsonpFunction","slice","s","Point","x","y","this","Rectangle","width","height","__webpack_exports__","easeIn","power","Math","pow","easeOut","linear","factor","easeInQuart","easeOutCubic","reverse","handler","collide","_shape_js__WEBPACK_IMPORTED_MODULE_0__","caller","collidePointPoint","A","B","collidePointRectangle","BCDE","collideRectangleRectangle","ABCD","EFGH","parameters","indexOf","apply","localStorage","getItem","JSON","parse","set","setItem","stringify","originalModule","webpackPolyfill","children","after","debug","$","world","system","systems","inputs","hitbox","camera","spritesheet","pause","controllers","clean","hud","before","forEach","input","common","destroy","log","best","debugging","score","panic","render","context","fillStyle","fillRect","size","images","resize","start","_this","memory","initialize","_toConsumableArray","pools","level","snippets","look","assets","sounds","play","update","previous","commands","state","forces","velocity","fade","spritesheets","delta","font","textAlign","textBaseline","fillText","preloading","setup","load","Gamepad","container","actions","states","id","act","action","requestAnimationFrame","gamepads","navigator","getGamepads","hasFocus","gamepad","_ref","_ref2","_slicedToArray","code","buttons","pressed","_ref3","_ref4","_ref4$","negative","positive","axes","blur","cancelAnimationFrame","keynames","Controllers","keydown","keyCode","preventDefault","keyup","addEventListener","removeEventListener","contextmenu","mousedown","button","rectangle","getBoundingClientRect","clientX","left","clientY","top","mouseenter","mouseleave","mousemove","mouseup","wheel","abs","deltaY","deltaX","controller","element","concat","datasets","Theatre","config","expose","framerate","sharp","speed","offsetHeight","offsetWidth","canvas","loading","restarting","updates","entities","_this3","require","keys","_key$match2","match","scope","entity","components","filter","component","index","self","findIndex","model","hot","accept","forward","timeframe","scene","playing","tick","scenes","_this4","_key$match4","version","restart","times","arguments","Canvas","focus","loop","Loop","preload","asset","source","_this2","_this5","_key$match5","_key$match6","_this6","_key$match7","_key$match8","default","_this7","_key$match9","_key$match10","theatre","identifier","pixelated","getContext","ratio","devicePixelRatio","floor","style","scale","imageRendering","imageSmoothingEnabled","elapsedTime","lastUpdate","paused","currentUpdate","performance","now","map","then","image","Image","sound","Audio","oncanplaythrough","cloneNode","body","ENVIRONMENT","./datasets/debug/inputs.json","./datasets/level/inputs.json","./images/common/placeholder-8x1.png","./images/level/background-16x16@1x.png","./images/level/best-48x16@1x.png","./images/level/clouds-160x16@1x.png","./images/level/flappy-bird-16x16@1x.png","./images/level/flappy-bird-shadow-16x8@1x.png","./images/level/foreground-16x16@1x.png","./images/level/game-over-64x64@1x.png","./images/level/numbers-8x16@1x.png","./images/level/numbers-blue-8x16@1x.png","./images/level/pipe-16x16@1x.png","./images/level/pipe-shadow-16x8@1x.png","./images/level/touch-screen-64x32@1x.png","./images/level/waves-16x16@1x.png","./sounds/level/explode.mp3","./sounds/level/jump.mp3","./sounds/level/score.mp3","./sounds/level/start.mp3","webpackAsyncContext","req","ids","./cameras.json","./commands.json","./fade.json","./forces.json","./hitbox.json","./images.json","./inputs.json","./opacity.json","./position.json","./previous.json","./state.json","./timeout.json","./velocity.json","webpackContext","webpackContextResolve","./level/background.json","./level/best-score.json","./level/bird.json","./level/ceil-pipe.json","./level/ceil.json","./level/chunk.json","./level/clouds.json","./level/floor-pipe.json","./level/floor.json","./level/game-over.json","./level/hit-score.json","./level/limit.json","./level/pipe-bottom.json","./level/pipe-shadow.json","./level/pipe-top.json","./level/score.json","./level/touch-screen.json","./level/waves.json","./level/start.json","./level/index.js","./loading/index.js","_after_js__WEBPACK_IMPORTED_MODULE_0__","_before_js__WEBPACK_IMPORTED_MODULE_1__","_destroy_js__WEBPACK_IMPORTED_MODULE_2__","_panic_js__WEBPACK_IMPORTED_MODULE_3__","_render_js__WEBPACK_IMPORTED_MODULE_4__","_resize_js__WEBPACK_IMPORTED_MODULE_5__","_setup_js__WEBPACK_IMPORTED_MODULE_6__","_start_js__WEBPACK_IMPORTED_MODULE_7__","_update_js__WEBPACK_IMPORTED_MODULE_8__","./common/easing-in-quart.js","./common/easing-linear.js","./common/easing-out-cubic.js","./common/easing-sine-half.js","./common/easing-sine.js","./common/handle-command.js","./common/handle-fade-ending.js","./common/handle-forces-ending.js","./common/handle-hitbox.js","./common/handle-state.js","./common/handle-timeout-ending.js","./common/remove-entity.js","./common/remove-fade.js","./common/remove-forces.js","./common/remove-hitbox.js","./common/remove-timeout.js","./common/restart.js","./common/setup-camera.js","./common/setup-world.js","./level/add-chunk.js","./level/best-score.js","./level/game-over.js","./level/handle-jump.js","./level/hit-score.js","./level/reload-chunk.js","./level/reset-position.js","./level/start-game.js","modules_ease_js__WEBPACK_IMPORTED_MODULE_0__","sin","PI","message","extra","collision","has","add","right","bottom","forcesComponent","velocityComponent","from","max","force","changes","remove","bestScore","prepare","text","numbers","$source","frames","frame","destination","opacity","elapsed","parseInt","attach","duration","$easing","$handling","$ending","shake","modules_memory_js__WEBPACK_IMPORTED_MODULE_0__","ceil","hitScore","./common/commands.js","./common/fade.js","./common/forces.js","./common/hitbox.js","./common/images.js","./common/inputs.js","./common/previous.js","./common/spritesheets.js","./common/state.js","./common/timeout.js","./common/velocity.js","./debug/camera.js","./debug/hitbox.js","./debug/inputs.js","./debug/pause.js","./debug/spritesheet.js","entries","$command","fadeComponent","opacityComponent","faded","Ease","remaining","progress","trashes","unlimited","moved","_typeof","resolvers","nameA","entityA","hitboxComponentA","positionComponentA","collideableA","collideable","collideableTypesA","nameB","entityB","hitboxComponentB","positionComponentB","penetration","previousPositionComponentA","position","previousPositionComponentB","previousHitboxComponentA","previousHitboxComponentB","previousA","previousB","previousOverlapX","previousOverlapY","_collideableA$hitboxC","resolver","camerasComponent","imagesComponent","positionComponent","$camera","_frames$image$frame","z","control","Array","isArray","command","stateComponent","timeoutComponent","screen","offset","save","lineWidth","measureText","strokeStyle","strokeRect","restore","hitboxComponent","shaking","round","beginPath","moveTo","lineTo","stroke","highest","mouse","sprite","layer","checkpoint","items","random","pipeTop","ceilPipe","pipeBottom","min","floorPipe","pipeShadow","World","catalog","empty","$catalog","reference","parameter","iterator","search","replace","exclude","chosen","_ref5","Camera","current","easing","splice","idle","visible","alpha","globalAlpha","drawImage","amplitude","angle","cos"],"mappings":"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","file":"index.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t};\n\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t0: 0\n \t};\n\n\n\n \t// script path function\n \tfunction jsonpScriptSrc(chunkId) {\n \t\treturn __webpack_require__.p + \"\" + chunkId + \".index.js\"\n \t}\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n \t// This file contains only the entry chunk.\n \t// The chunk loading function for additional chunks\n \t__webpack_require__.e = function requireEnsure(chunkId) {\n \t\tvar promises = [];\n\n\n \t\t// JSONP chunk loading for javascript\n\n \t\tvar installedChunkData = installedChunks[chunkId];\n \t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n \t\t\t// a Promise means \"currently loading\".\n \t\t\tif(installedChunkData) {\n \t\t\t\tpromises.push(installedChunkData[2]);\n \t\t\t} else {\n \t\t\t\t// setup Promise in chunk cache\n \t\t\t\tvar promise = new Promise(function(resolve, reject) {\n \t\t\t\t\tinstalledChunkData = installedChunks[chunkId] = [resolve, reject];\n \t\t\t\t});\n \t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n \t\t\t\t// start chunk loading\n \t\t\t\tvar head = document.getElementsByTagName('head')[0];\n \t\t\t\tvar script = document.createElement('script');\n \t\t\t\tvar onScriptComplete;\n\n \t\t\t\tscript.charset = 'utf-8';\n \t\t\t\tscript.timeout = 120;\n \t\t\t\tif (__webpack_require__.nc) {\n \t\t\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n \t\t\t\t}\n \t\t\t\tscript.src = jsonpScriptSrc(chunkId);\n\n \t\t\t\tonScriptComplete = function (event) {\n \t\t\t\t\t// avoid mem leaks in IE.\n \t\t\t\t\tscript.onerror = script.onload = null;\n \t\t\t\t\tclearTimeout(timeout);\n \t\t\t\t\tvar chunk = installedChunks[chunkId];\n \t\t\t\t\tif(chunk !== 0) {\n \t\t\t\t\t\tif(chunk) {\n \t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n \t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n \t\t\t\t\t\t\tvar error = new Error('Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')');\n \t\t\t\t\t\t\terror.type = errorType;\n \t\t\t\t\t\t\terror.request = realSrc;\n \t\t\t\t\t\t\tchunk[1](error);\n \t\t\t\t\t\t}\n \t\t\t\t\t\tinstalledChunks[chunkId] = undefined;\n \t\t\t\t\t}\n \t\t\t\t};\n \t\t\t\tvar timeout = setTimeout(function(){\n \t\t\t\t\tonScriptComplete({ type: 'timeout', target: script });\n \t\t\t\t}, 120000);\n \t\t\t\tscript.onerror = script.onload = onScriptComplete;\n \t\t\t\thead.appendChild(script);\n \t\t\t}\n \t\t}\n \t\treturn Promise.all(promises);\n \t};\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// on error function for async loading\n \t__webpack_require__.oe = function(err) { console.error(err); throw err; };\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 27);\n","function Circle(x, y, radius) {\n\n    this.radius = radius;\n    this.x = x;\n    this.y = y;\n}\n\nfunction Point(x, y) {\n\n    this.x = x;\n    this.y = y;\n}\n\nfunction Rectangle(x, y, width, height) {\n\n    this.height = height;\n    this.width = width;\n    this.x = x;\n    this.y = y;\n}\n\nfunction Segment(xa, ya, xb, yb) {\n\n    this.xa = xa;\n    this.xb = xb;\n    this.ya = ya;\n    this.yb = yb;\n}\n\n// exports current module as objects\nexport {Circle, Point, Rectangle, Segment};\n","function easeIn(power) {\n\n    // accelerating from zero velocity\n    return (x) => x ** power;\n}\n\nfunction easeInOut(power) {\n\n    // acceleration until halfway, then deceleration (with x in [0, 1] range)\n    return (x) => {\n\n        if (x < 0.5) {\n\n            return easeIn(power)(2 * x) / 2\n        }\n\n        return 1 - easeInOut(power)(1 - x)\n    }\n}\n\nfunction easeOut(power) {\n\n    // decelerating to zero velocity (with x in [0, 1] range)\n    return (x) => 1 - easeIn(power)(1 - x);\n}\n\nfunction linear(factor) {\n\n    // linear progression\n    return (x) => x * factor;\n}\n\nfunction easeInQuad(x) {\n\n    // accelerating from zero velocity\n    return easeIn(2)(x);\n}\n\nfunction easeInCubic(x) {\n\n    // accelerating from zero velocity\n    return easeIn(3)(x);\n}\n\nfunction easeInQuart(x) {\n\n    // accelerating from zero velocity\n    return easeIn(4)(x);\n}\n\nfunction easeInOutQuad(x) {\n\n    // acceleration until halfway, then deceleration (with x in [0, 1] range)\n    return easeInOut(2)(x);\n}\n\nfunction easeInOutCubic(x) {\n\n    // acceleration until halfway, then deceleration (with x in [0, 1] range)\n    return easeInOut(3)(x);\n}\n\nfunction easeInOutQuart(x) {\n\n    // acceleration until halfway, then deceleration (with x in [0, 1] range)\n    return easeInOut(4)(x);\n}\n\nfunction easeOutQuad(x) {\n\n    // decelerating to zero velocity (with x in [0, 1] range)\n    return easeOut(2)(x);\n}\n\nfunction easeOutCubic(x) {\n\n    // decelerating to zero velocity (with x in [0, 1] range)\n    return easeOut(3)(x);\n}\n\nfunction easeOutQuart(x) {\n\n    // decelerating to zero velocity (with x in [0, 1] range)\n    return easeOut(4)(x);\n}\n\nfunction reverse(handler) {\n\n    // reversing easing function\n    return (x) => handler(1 - x);\n}\n\n// exports current module as functions\nexport {\n\n    // export ease function creators\n    easeIn, easeInOut, easeOut, linear,\n\n    // export ease-in functions\n    easeInCubic, easeInQuad, easeInQuart,\n\n    // export ease-in-out functions\n    easeInOutCubic, easeInOutQuad, easeInOutQuart,\n\n    // export ease-out functions\n    easeOutCubic, easeOutQuad, easeOutQuart,\n\n    // export utility functions\n    reverse\n};\n","import {Point, Rectangle} from './shape.js';\n\nconst caller = {\n\n    'collidePointPoint': collidePointPoint,\n    'collidePointRectangle': collidePointRectangle,\n    'collideRectangleRectangle': collideRectangleRectangle\n};\n\nfunction collide(A, B) {\n\n    const parameters = [];\n\n    let name = 'collide';\n\n    if (A instanceof Point === true) {\n\n        parameters.push(A);\n\n        name += 'Point';\n    }\n\n    if (B instanceof Point === true) {\n\n        parameters.push(B);\n\n        name += 'Point';\n    }\n\n    if (parameters.indexOf(A) === -1\n    && A instanceof Rectangle === true) {\n\n        parameters.push(A);\n\n        name += 'Rectangle';\n    }\n\n    if (parameters.indexOf(B) === -1\n    && B instanceof Rectangle === true) {\n\n        parameters.push(B);\n\n        name += 'Rectangle';\n    }\n\n    return caller[name].apply(null, parameters);\n}\n\nfunction collidePointPoint(A, B) {\n\n    if (A.x !== B.x\n    || A.y !== B.y) {\n\n        return false;\n    }\n\n    return true;\n}\n\nfunction collidePointRectangle(A, BCDE) {\n\n    if (A.x < BCDE.x\n    || A.x > BCDE.x + BCDE.width - 1\n    || A.y < BCDE.y\n    || A.y > BCDE.y + BCDE.height - 1) {\n\n        return false;\n    }\n\n    return true;\n}\n\nfunction collideRectangleRectangle(ABCD, EFGH) {\n\n    if (ABCD.x + ABCD.width - 1 < EFGH.x\n    || ABCD.x > EFGH.x + EFGH.width - 1\n    || ABCD.y + ABCD.height - 1 < EFGH.y\n    || ABCD.y > EFGH.y + EFGH.height - 1) {\n\n        return false;\n    }\n\n    return true;\n}\n\n// exports current module as a function\nexport {collide};\n","function get(name) {\n\n    const value = window.localStorage.getItem(name);\n\n    return value !== null ? JSON.parse(value) : null;\n}\n\nfunction remove(name) {\n\n    window.localStorage.removeItem(name);\n}\n\nfunction set(name, value) {\n\n    window.localStorage.setItem(name, JSON.stringify(value));\n}\n\n// exports current module as functions\nexport {get, remove, set};\n","module.exports = function(originalModule) {\n\tif (!originalModule.webpackPolyfill) {\n\t\tvar module = Object.create(originalModule);\n\t\t// module.parent = undefined by default\n\t\tif (!module.children) module.children = [];\n\t\tObject.defineProperty(module, \"loaded\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.l;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"id\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.i;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"exports\", {\n\t\t\tenumerable: true\n\t\t});\n\t\tmodule.webpackPolyfill = 1;\n\t}\n\treturn module;\n};\n","function after() {\n\n    // console.log('lifecycle :', 'after level scene');\n\n    if (this.debug === true) {\n\n        this.$.world.system('debug-inputs', [], this.systems.debug.inputs);\n        this.$.world.system('debug-hitbox', ['cameras', 'hitbox', 'position'], this.systems.debug.hitbox);\n        this.$.world.system('debug-camera', [], this.systems.debug.camera);\n        this.$.world.system('debug-spritesheet', ['cameras', 'images', 'position'], this.systems.debug.spritesheet);\n        this.$.world.system('debug-pause', [], this.systems.debug.pause);\n    }\n\n    this.$.controllers.inputs.length = 0;\n\n    this.$.camera.clean();\n    this.$.hud.clean();\n}\n\nexport {after};\n","function before() {\n\n    // console.log('lifecycle :', 'before level scene');\n\n    this.$.controllers.inputs.forEach((input) => {\n\n        // console.log('debugging :', input);\n    });\n\n    this.$.world.system('inputs', ['inputs'], this.systems.common.inputs);\n}\n\nexport {before};\n","function destroy() {\n\n    console.log('lifecycle :', 'destroy level scene');\n    console.log('---------');\n\n    this.$.controllers.destroy();\n\n    delete this.$.best;\n    delete this.$.camera;\n    delete this.$.controllers;\n    delete this.$.debugging;\n    delete this.$.hud;\n    delete this.$.score;\n    delete this.$.world;\n}\n\nexport {destroy};\n","function panic() {\n\n    console.log('lifecycle :', 'panic level scene');\n}\n\nexport {panic};\n","function render() {\n\n    // console.log('lifecycle :', 'render level scene');\n\n    this.context.fillStyle = '#222034';\n    this.context.fillRect(0, 0, this.size.width, this.size.height);\n\n    this.$.world.system('images', ['cameras', 'images', 'position'], this.systems.common.images);\n\n    this.$.camera.render();\n    this.$.hud.render();\n}\n\nexport {render};\n","function resize() {\n\n    console.log('lifecycle :', 'resize level scene');\n}\n\nexport {resize};\n","import * as memory from 'modules/memory.js';\n\nfunction start() {\n\n    console.log('lifecycle :', 'start level scene');\n\n    this.$.best = memory.get('best') || 0;\n    this.$.debugging = {};\n    this.$.score = 0;\n\n    this.$.world.initialize([\n\n        ...this.pools.level.start()\n    ]);\n\n    this.snippets.level['best-score']();\n\n    this.$.camera.look(\n\n        () => this.$.world.get('background').get('position').x + 80,\n        () => this.$.world.get('background').get('position').y + 72\n    );\n\n    this.$.hud.look(\n\n        () => 80,\n        () => 72\n    );\n\n    this.assets.sounds.level['start']().play();\n}\n\nexport {start};\n","function update() {\n\n    // console.log('lifecycle :', 'update level scene');\n\n    this.$.world.system('previous', [], this.systems.common.previous);\n    this.$.world.system('timeout', ['timeout'], this.systems.common.timeout);\n    this.$.world.system('commands', ['commands'], this.systems.common.commands);\n    this.$.world.system('state', ['state'], this.systems.common.state);\n    this.$.world.system('forces', ['forces'], this.systems.common.forces);\n    this.$.world.system('velocity', ['position', 'velocity'], this.systems.common.velocity);\n    this.$.world.system('fade', ['fade'], this.systems.common.fade);\n    this.$.world.system('hitbox', ['hitbox', 'position', 'previous'], this.systems.common.hitbox);\n    this.$.world.system('velocity', ['position', 'velocity'], this.systems.common.velocity);\n    this.$.world.system('spritesheets', ['images'], this.systems.common.spritesheets);\n\n    this.$.camera.update(this.delta);\n    this.$.hud.update(this.delta);\n}\n\nexport {update};\n","function after() {\n\n    // console.log('lifecycle :', 'after loading scene');\n}\n\nexport {after};\n","function before() {\n\n    // console.log('lifecycle :', 'before loading scene');\n}\n\nexport {before};\n","function destroy() {\n\n    console.log('lifecycle :', 'destroy loading scene');\n    console.log('---------');\n\n    delete this.$.timeout;\n}\n\nexport {destroy};\n","function panic() {\n\n    console.log('lifecycle :', 'panic loading scene');\n}\n\nexport {panic};\n","function render() {\n\n    // console.log('lifecycle :', 'render loading scene');\n\n    this.context.fillStyle = '#222034';\n    this.context.fillRect(0, 0, this.size.width, this.size.height);\n\n    this.context.font = '16px Courier New';\n    this.context.textAlign = 'start';\n    this.context.textBaseline = 'top';\n    this.context.fillStyle = '#ffffff';\n    this.context.fillText('/ Theatre', 8, 8);\n    this.context.fillStyle = '#cbdbfc';\n\n    this.context.fillText('$ preloading assets...', 8, 32);\n\n    if (this.preloading === false) {\n\n        this.context.fillStyle = '#99e550';\n        this.context.fillText('$ preloading completed', 8, 32 + 24);\n        this.context.fillStyle = '#cbdbfc';\n        this.context.fillText('$ loading demo scene...', 8, 32 + 24 + 24);\n    }\n}\n\nexport {render};\n","function resize() {\n\n    console.log('lifecycle :', 'resize loading scene');\n}\n\nexport {resize};\n","function setup() {\n\n    console.log('lifecycle :', 'setup loading scene');\n\n    this.$.timeout = 0;\n}\n\nexport {setup};\n","function start() {\n\n    console.log('lifecycle :', 'start loading scene');\n}\n\nexport {start};\n","function update() {\n\n    // console.log('lifecycle :', 'update loading scene');\n\n    if (this.preloading === false) {\n\n        this.$.timeout += this.delta;\n\n        if (this.$.timeout >= 1000) {\n\n            this.load('level');\n        }\n    }\n}\n\nexport {update};\n","function Gamepad(container, actions, inputs) {\n\n    const states = {};\n\n    let id = null;\n\n    function act(action, state) {\n\n        states[action] = state;\n\n        inputs.push({\n\n            'type': 'GAMEPAD',\n            'action': action,\n            'state': (state === true ? 'DOWN' : 'UP')\n        });\n    }\n\n    function blur() {\n\n        for (let state in states) {\n\n            if (states.hasOwnProperty(state)\n            && states[state] === true) {\n\n                states[state] = false;\n\n                inputs.push({\n\n                    'type': 'GAMEPAD',\n                    'action': state,\n                    'state': 'UP'\n                });\n            }\n        }\n    }\n\n    function destroy() {\n\n        window.cancelAnimationFrame(id);\n    }\n\n    function setup() {\n\n        id = window.requestAnimationFrame(update.bind(this));\n    }\n\n    function update() {\n\n        const gamepads = navigator.getGamepads() || [];\n\n        if (typeof gamepads[0] !== 'undefined'\n        && gamepads[0] !== null\n        && document.hasFocus() === true) {\n\n            const gamepad = gamepads[0];\n\n            const buttons = [\n\n                [0, 'A'],\n                [1, 'B'],\n                [2, 'X'],\n                [3, 'Y'],\n                [4, 'LB'],\n                [5, 'RB'],\n                [6, 'LT'],\n                [7, 'RT'],\n                [8, 'BACK'],\n                [9, 'START'],\n                [10, 'LSB'],\n                [11, 'RSB'],\n                [12, 'UP'],\n                [13, 'DOWN'],\n                [14, 'LEFT'],\n                [15, 'RIGHT']\n            ];\n\n            buttons.forEach(([code, name]) => {\n\n                const action = 'GAMEPAD_' + name;\n\n                if (actions.indexOf(action) !== -1\n                && gamepad.buttons[code].pressed === true\n                && states[action] === false) {\n\n                    act(action, true);\n                }\n\n                else if (actions.indexOf(action) !== -1\n                && gamepad.buttons[code].pressed === false\n                && states[action] === true) {\n\n                    act(action, false);\n                }\n            });\n\n            const sticks = [\n\n                [0, ['LS_LEFT', 'LS_RIGHT']],\n                [1, ['LS_UP', 'LS_DOWN']],\n                [2, ['RS_LEFT', 'RS_RIGHT']],\n                [3, ['RS_UP', 'RS_DOWN']]\n            ];\n\n            sticks.forEach(([code, [negative, positive]]) => {\n\n                if (gamepad.axes[code] <= -0.5) {\n\n                    const action = 'GAMEPAD_' + negative;\n\n                    if (actions.indexOf(action) !== -1\n                    && states[action] === false) {\n\n                        act(action, true);\n                    }\n                }\n\n                else if (gamepad.axes[code] > -0.5) {\n\n                    const action = 'GAMEPAD_' + negative;\n\n                    if (actions.indexOf(action) !== -1\n                    && states[action] === true) {\n\n                        act(action, false);\n                    }\n                }\n\n                if (gamepad.axes[code] >= 0.5) {\n\n                    const action = 'GAMEPAD_' + positive;\n\n                    if (actions.indexOf(action) !== -1\n                    && states[action] === false) {\n\n                        act(action, true);\n                    }\n                }\n\n                else if (gamepad.axes[code] < 0.5) {\n\n                    const action = 'GAMEPAD_' + positive;\n\n                    if (actions.indexOf(action) !== -1\n                    && states[action] === true) {\n\n                        act(action, false);\n                    }\n                }\n            });\n        }\n\n        else if (document.hasFocus() === false\n        || gamepads.length === 0) {\n\n            blur();\n        }\n\n        id = window.requestAnimationFrame(update.bind(this));\n    }\n\n    actions.forEach((action) => {\n\n        states[action] = false;\n    });\n\n    setup.call(this);\n\n    this.destroy = destroy;\n    this.setup = setup;\n}\n\n// exports current module as an object\nexport {Gamepad};\n","const keynames = [];\n\nkeynames[9] = 'TAB';\nkeynames[13] = 'ENTER';\nkeynames[16] = 'SHIFT';\nkeynames[17] = 'CTRL';\nkeynames[18] = 'ALT';\nkeynames[27] = 'ESC';\nkeynames[32] = 'SPACE';\nkeynames[46] = 'DELETE';\n\nkeynames[37] = 'LEFT';\nkeynames[38] = 'UP';\nkeynames[39] = 'RIGHT';\nkeynames[40] = 'DOWN';\n\nkeynames[48] = 'ZERO';\nkeynames[49] = 'ONE';\nkeynames[50] = 'TWO';\nkeynames[51] = 'THREE';\nkeynames[52] = 'FOUR';\nkeynames[53] = 'FIVE';\nkeynames[54] = 'SIX';\nkeynames[55] = 'SEVEN';\nkeynames[56] = 'EIGHT';\nkeynames[57] = 'NINE';\n\nkeynames[65] = 'A';\nkeynames[66] = 'B';\nkeynames[67] = 'C';\nkeynames[68] = 'D';\nkeynames[69] = 'E';\nkeynames[70] = 'F';\nkeynames[71] = 'G';\nkeynames[72] = 'H';\nkeynames[73] = 'I';\nkeynames[74] = 'J';\nkeynames[75] = 'K';\nkeynames[76] = 'L';\nkeynames[77] = 'M';\nkeynames[78] = 'N';\nkeynames[79] = 'O';\nkeynames[80] = 'P';\nkeynames[81] = 'Q';\nkeynames[82] = 'R';\nkeynames[83] = 'S';\nkeynames[84] = 'T';\nkeynames[85] = 'U';\nkeynames[86] = 'V';\nkeynames[87] = 'W';\nkeynames[88] = 'X';\nkeynames[89] = 'Y';\nkeynames[90] = 'Z';\n\n// exports current module as an array\nexport {keynames};\n","import {Gamepad} from './gamepad.js';\nimport {Keyboard} from './keyboard.js';\nimport {Mouse} from './mouse.js';\n\nfunction Controllers(container, actions) {\n\n    const controllers = [];\n    const inputs = [];\n\n    function destroy() {\n\n        controllers.forEach((controller) => {\n\n            controller.destroy();\n        });\n    }\n\n    function setup() {\n\n        controllers.push(new Gamepad(container, actions, inputs));\n        controllers.push(new Keyboard(container, actions, inputs));\n        controllers.push(new Mouse(container, actions, inputs));\n    }\n\n    setup.call(this);\n\n    this.inputs = inputs;\n\n    this.destroy = destroy;\n}\n\n// exports current module as an object\nexport {Controllers};\n","import {keynames} from './keynames.js';\n\nfunction Keyboard(container, actions, inputs) {\n\n    const states = {};\n\n    function blur() {\n\n        for (let state in states) {\n\n            if (states.hasOwnProperty(state)\n            && states[state] === true) {\n\n                states[state] = false;\n\n                inputs.push({\n\n                    'type': 'KEYBOARD',\n                    'action': state,\n                    'state': 'UP'\n                });\n            }\n        }\n    }\n\n    function destroy() {\n\n        container.removeEventListener('blur', blur);\n        container.removeEventListener('keydown', keydown);\n        container.removeEventListener('keyup', keyup);\n    }\n\n    function keydown(event) {\n\n        const action = 'KEY_' + keynames[event.keyCode];\n\n        if (actions.indexOf(action) !== -1\n        && states[action] === false) {\n\n            event.preventDefault();\n\n            states[action] = true;\n\n            inputs.push({\n\n                'type': 'KEYBOARD',\n                'action': action,\n                'state': 'DOWN'\n            });\n        }\n    }\n\n    function keyup(event) {\n\n        const action = 'KEY_' + keynames[event.keyCode];\n\n        if (actions.indexOf(action) !== -1\n        && states[action] === true) {\n\n            event.preventDefault();\n\n            states[action] = false;\n\n            inputs.push({\n\n                'type': 'KEYBOARD',\n                'action': action,\n                'state': 'UP'\n            });\n        }\n    }\n\n    function setup() {\n\n        container.addEventListener('blur', blur);\n        container.addEventListener('keydown', keydown);\n        container.addEventListener('keyup', keyup);\n    }\n\n    actions.forEach((action) => {\n\n        states[action] = false;\n    });\n\n    setup.call(this);\n\n    this.destroy = destroy;\n    this.setup = setup;\n}\n\n// exports current module as an object\nexport {Keyboard};\n","function Mouse(container, actions, inputs) {\n\n    function contextmenu(event) {\n\n        const action = 'CLICK_RIGHT';\n\n        if (actions.indexOf(action) !== -1) {\n\n            event.preventDefault();\n        }\n    }\n\n    function destroy() {\n\n        container.removeEventListener('contextmenu', contextmenu);\n        container.removeEventListener('mousedown', mousedown);\n        container.removeEventListener('mouseenter', mouseenter);\n        container.removeEventListener('mouseleave', mouseleave);\n        container.removeEventListener('mousemove', mousemove);\n        container.removeEventListener('mouseup', mouseup);\n        container.removeEventListener('wheel', wheel);\n    }\n\n    function mousedown(event) {\n\n        const button = event.button;\n        const buttons = ['LEFT', 'MIDDLE', 'RIGHT'];\n\n        if (typeof buttons[button] === 'undefined') {\n\n            return;\n        }\n\n        const action = 'CLICK_' + buttons[button];\n\n        if (actions.indexOf(action) !== -1) {\n\n            event.preventDefault();\n\n            const rectangle = event.target.getBoundingClientRect();\n            const x = event.clientX - rectangle.left;\n            const y = event.clientY - rectangle.top;\n\n            inputs.push({\n\n                'type': 'MOUSE',\n                'action': action,\n                'state': 'DOWN',\n                'x': x,\n                'y': y\n            });\n        }\n    }\n\n    function mouseenter(event) {\n\n        const action = 'MOVE';\n\n        if (actions.indexOf(action) !== -1) {\n\n            event.preventDefault();\n\n            const rectangle = event.target.getBoundingClientRect();\n            const x = event.clientX - rectangle.left;\n            const y = event.clientY - rectangle.top;\n\n            inputs.push({\n\n                'type': 'MOUSE',\n                'action': action,\n                'state': 'ENTER',\n                'x': x,\n                'y': y\n            });\n        }\n    }\n\n    function mouseleave(event) {\n\n        const action = 'MOVE';\n\n        if (actions.indexOf(action) !== -1) {\n\n            event.preventDefault();\n\n            const rectangle = event.target.getBoundingClientRect();\n            const x = event.clientX - rectangle.left;\n            const y = event.clientY - rectangle.top;\n\n            inputs.push({\n\n                'type': 'MOUSE',\n                'action': action,\n                'state': 'LEAVE',\n                'x': x,\n                'y': y\n            });\n        }\n    }\n\n    function mousemove(event) {\n\n        const action = 'MOVE';\n\n        if (actions.indexOf(action) !== -1) {\n\n            event.preventDefault();\n\n            const rectangle = event.target.getBoundingClientRect();\n            const x = event.clientX - rectangle.left;\n            const y = event.clientY - rectangle.top;\n\n            inputs.push({\n\n                'type': 'MOUSE',\n                'action': action,\n                'x': x,\n                'y': y\n            });\n        }\n    }\n\n    function mouseup(event) {\n\n        const button = event.button;\n        const buttons = ['LEFT', 'MIDDLE', 'RIGHT'];\n\n        if (typeof buttons[button] === 'undefined') {\n\n            return;\n        }\n\n        const action = 'CLICK_' + buttons[button];\n\n        if (actions.indexOf(action) !== -1) {\n\n            event.preventDefault();\n\n            const rectangle = event.target.getBoundingClientRect();\n            const x = event.clientX - rectangle.left;\n            const y = event.clientY - rectangle.top;\n\n            inputs.push({\n\n                'type': 'MOUSE',\n                'action': action,\n                'state': 'UP',\n                'x': x,\n                'y': y\n            });\n        }\n    }\n\n    function setup() {\n\n        container.addEventListener('contextmenu', contextmenu);\n        container.addEventListener('mousedown', mousedown);\n        container.addEventListener('mouseenter', mouseenter);\n        container.addEventListener('mouseleave', mouseleave);\n        container.addEventListener('mousemove', mousemove);\n        container.addEventListener('mouseup', mouseup);\n        container.addEventListener('wheel', wheel);\n    }\n\n    function wheel(event) {\n\n        const action = 'SCROLL';\n\n        if (actions.indexOf(action) !== -1) {\n\n            event.preventDefault();\n\n            const rectangle = event.target.getBoundingClientRect();\n            const x = event.clientX - rectangle.left;\n            const y = event.clientY - rectangle.top;\n\n            let state;\n\n            if (Math.abs(event.deltaY) >= Math.abs(event.deltaX)) {\n\n                state = 'DOWN';\n\n                if (event.deltaY < 0) {\n\n                    state = 'UP';\n                }\n            }\n\n            else {\n\n                state = 'RIGHT';\n\n                if (event.deltaX < 0) {\n\n                    state = 'LEFT';\n                }\n            }\n\n            inputs.push({\n\n                'type': 'MOUSE',\n                'action': action,\n                'state': state,\n                'x': x,\n                'y': y\n            });\n        }\n    }\n\n    setup.call(this);\n\n    this.destroy = destroy;\n    this.setup = setup;\n}\n\n// exports current module as an object\nexport {Mouse};\n","import {Controllers} from 'modules/controllers.js';\n\nfunction setup() {\n\n    console.log('lifecycle :', 'setup level scene');\n\n    this.$.controllers = new Controllers(this.element, [\n\n        ...this.assets.datasets.debug['inputs'](),\n        ...this.assets.datasets.level['inputs']()\n    ]);\n\n    this.$.camera = this.snippets.common['setup-camera']('default', 'contain-framed', 160, 144, 1);\n    this.$.hud = this.snippets.common['setup-camera']('hud', 'contain-framed', 160, 144, 1);\n    this.$.world = this.snippets.common['setup-world']();\n}\n\nexport {setup};\n","import {Canvas} from 'core/canvas.js';\nimport {Loop} from 'core/loop.js';\n\nimport {preload} from 'core/preload.js';\n\nfunction Theatre(config) {\n\n    const {container} = config;\n\n    const debug = config.debug || false;\n    const expose = config.expose || false;\n    const framerate = config.framerate || 60;\n    const panic = config.panic || 4000;\n    const sharp = config.sharp || false;\n    const speed = config.speed || 1;\n\n    const size = {\n\n        'height' : container.offsetHeight,\n        'width' : container.offsetWidth\n    };\n\n    let canvas = null;\n    let loading = null;\n    let restarting = false;\n    let updates = 0;\n\n    function assets() {\n\n        const context = require.context('assets/', true, /\\.[a-zA-Z0-9]+$/, 'lazy');\n\n        preload(context, (assets) => {\n\n            this.assets = {};\n\n            assets.forEach((asset) => {\n\n                const {getter, name, scope, source, type} = asset;\n\n                if (typeof this.assets[type] === 'undefined') {\n\n                    this.assets[type] = {};\n                }\n\n                if (typeof this.assets[type][scope] === 'undefined') {\n\n                    this.assets[type][scope] = {};\n                }\n\n                this.assets[type][scope][name] = getter;\n            });\n\n            this.preloading = false;\n        });\n\n        if (typeof module.hot !== 'undefined') {\n\n            module.hot.accept(context.id, () => {\n\n                assets.call(this);\n            });\n        }\n\n        this.preloading = true;\n    }\n\n    function components() {\n\n        const context = require.context('components/', true, /^\\.\\/[^\\/]+\\.json$/, 'sync');\n\n        this.components = {};\n\n        context.keys().forEach((key) => {\n\n            const name = key.match(/^\\.\\/([^\\/]+)\\.json$/)[1];\n            const component = context(key);\n            const getter = () => JSON.parse(JSON.stringify(component));\n\n            this.components[name] = getter;\n        });\n\n        if (typeof module.hot !== 'undefined') {\n\n            module.hot.accept(context.id, () => {\n\n                components.call(this);\n                entities.call(this);\n                pools.call(this);\n            });\n        }\n    }\n\n    function entities() {\n\n        const context = require.context('entities/', true, /^\\.\\/([^\\/]+)\\/([^\\/]+)\\.json$/, 'sync');\n\n        this.entities = {};\n\n        context.keys().forEach((key) => {\n\n            const [path, scope, name] = key.match(/^\\.\\/([^\\/]+)\\/([^\\/]+)\\.json$/);\n\n            if (typeof this.entities[scope] === 'undefined') {\n\n                this.entities[scope] = {};\n            }\n\n            if (typeof this.entities[scope][name] === 'undefined') {\n\n                this.entities[scope][name] = {};\n            }\n\n            const entity = JSON.parse(JSON.stringify(context(key)));\n\n            if (entity.hasOwnProperty('components') === false) {\n\n                entity.components = [];\n            }\n\n            entity.components = entity.components\n            .reverse()\n            .filter((component, index, self) => index === self.findIndex((model) => component.name === model.name))\n            .reverse();\n\n            const getter = () => JSON.parse(JSON.stringify(entity));\n\n            this.entities[scope][name] = getter;\n        });\n\n        if (typeof module.hot !== 'undefined') {\n\n            module.hot.accept(context.id, () => {\n\n                entities.call(this);\n                pools.call(this);\n            });\n        }\n    }\n\n    function forward(timeframe, panic) {\n\n        this.delta = timeframe;\n\n        if (container.offsetWidth !== this.size.width\n        || container.offsetHeight !== this.size.height) {\n\n            resize.call(this);\n        }\n\n        if (this.playing === true) {\n\n            this.tick();\n        }\n\n        this.scene.before.call(this);\n\n        if (updates > 0) {\n\n            update.call(this, panic);\n        }\n\n        this.scene.render.call(this);\n        this.scene.after.call(this);\n    }\n\n    function initialize() {\n\n        canvas = new Canvas('2d', 'theatre', this.size.width, this.size.height, sharp);\n\n        container.appendChild(canvas.element);\n\n        canvas.focus();\n\n        this.container = container;\n        this.context = canvas.context;\n        this.element = canvas.element;\n\n        this.assets = {};\n        this.delta = 0;\n\n        this.loop = new Loop(forward.bind(this), framerate, speed, panic);\n\n        assets.call(this);\n        components.call(this);\n        entities.call(this);\n        pools.call(this);\n        scenes.call(this);\n        snippets.call(this);\n        systems.call(this);\n\n        this.scene = this.scenes.loading;\n        this.scene.setup.call(this);\n        this.scene.start.call(this);\n\n        this.loop.update();\n    }\n\n    function load(scene) {\n\n        loading = scene;\n    }\n\n    function pause() {\n\n        this.playing = false;\n    }\n\n    function play() {\n\n        this.playing = true;\n    }\n\n    function pools() {\n\n        const context = require.context('pools/', true, /^\\.\\/([^\\/]+)\\/([^\\/]+)\\.json$/, 'sync');\n\n        this.pools = {};\n\n        context.keys().forEach((key) => {\n\n            const [path, scope, name] = key.match(/^\\.\\/([^\\/]+)\\/([^\\/]+)\\.json$/);\n\n            if (typeof this.pools[scope] === 'undefined') {\n\n                this.pools[scope] = {};\n            }\n\n            if (typeof this.pools[scope][name] === 'undefined') {\n\n                this.pools[scope][name] = {};\n            }\n\n            const pools = JSON.parse(JSON.stringify(context(key)));\n\n            pools.forEach((entity) => {\n\n                if (entity.hasOwnProperty('components') === false) {\n\n                    entity.components = [];\n                }\n\n                const components = this.entities[entity.entity.scope][entity.entity.name]().components;\n\n                entity.components = components.concat(entity.components);\n\n                delete entity.entity;\n            });\n\n            const getter = () => JSON.parse(JSON.stringify(pools));\n\n            this.pools[scope][name] = getter;\n        });\n\n        if (typeof module.hot !== 'undefined') {\n\n            module.hot.accept(context.id, () => {\n\n                pools.call(this);\n            });\n        }\n    }\n\n    function resize() {\n\n        this.size.width = container.offsetWidth;\n        this.size.height = container.offsetHeight;\n\n        canvas.resize(this.size.width, this.size.height);\n\n        this.scene.resize.call(this);\n    }\n\n    function restart() {\n\n        restarting = true;\n    }\n\n    function scenes() {\n\n        const context = require.context('scenes/', true, /^\\.\\/([^\\/]+)\\/index\\.js$/, 'sync');\n\n        this.scenes = {};\n\n        context.keys().forEach((key) => {\n\n            const [path, name] = key.match(/^\\.\\/([^\\/]+)\\/index\\.js$/);\n\n            this.scenes[name] = context(key);\n        });\n\n        if (typeof module.hot !== 'undefined') {\n\n            module.hot.accept(context.id, () => {\n\n                scenes.call(this);\n            });\n        }\n    }\n\n    function snippets() {\n\n        const context = require.context('snippets/', true, /^\\.\\/([^\\/]+)\\/([^\\/]+)\\.js$/, 'sync');\n\n        this.snippets = {};\n\n        context.keys().forEach((key) => {\n\n            const [path, scope, name] = key.match(/^\\.\\/([^\\/]+)\\/([^\\/]+)\\.js$/);\n\n            if (typeof this.snippets[scope] === 'undefined') {\n\n                this.snippets[scope] = {};\n            }\n\n            if (typeof this.snippets[scope][name] === 'undefined') {\n\n                this.snippets[scope][name] = {};\n            }\n\n            this.snippets[scope][name] = context(key).default.bind(this);\n        });\n\n        if (typeof module.hot !== 'undefined') {\n\n            module.hot.accept(context.id, () => {\n\n                snippets.call(this);\n            });\n        }\n    }\n\n    function systems() {\n\n        const context = require.context('systems/', true, /^\\.\\/([^\\/]+)\\/([^\\/]+)\\.js$/, 'sync');\n\n        this.systems = {};\n\n        context.keys().forEach((key) => {\n\n            const [path, scope, name] = key.match(/^\\.\\/([^\\/]+)\\/([^\\/]+)\\.js$/);\n\n            if (typeof this.systems[scope] === 'undefined') {\n\n                this.systems[scope] = {};\n            }\n\n            if (typeof this.systems[scope][name] === 'undefined') {\n\n                this.systems[scope][name] = {};\n            }\n\n            this.systems[scope][name] = context(key)[name];\n        });\n\n        if (typeof module.hot !== 'undefined') {\n\n            module.hot.accept(context.id, () => {\n\n                systems.call(this);\n            });\n        }\n    }\n\n    function tick(times = 1) {\n\n        updates += times;\n    }\n\n    function update(panic) {\n\n        while (updates > 0) {\n\n            if (panic === true) {\n\n                this.scene.panic.call(this);\n            }\n\n            else {\n\n                this.scene.update.call(this);\n            }\n\n            updates -= 1;\n\n            if (restarting === true) {\n\n                this.scene.start.call(this);\n\n                restarting = false;\n\n                continue;\n            }\n\n            if (loading !== null) {\n\n                this.scene.destroy.call(this);\n                this.scene = this.scenes[loading];\n                this.scene.setup.call(this);\n                this.scene.start.call(this);\n\n                loading = null;\n\n                continue;\n            }\n        }\n    }\n\n    this.$ = {};\n    this.components = {};\n    this.debug = debug\n    this.entities = {};\n    this.playing = true;\n    this.pools = {};\n    this.preloading = false;\n    this.scenes = {};\n    this.size = size;\n    this.snippets = {};\n    this.systems = {};\n    this.version = '0.42.0';\n\n    this.load = load;\n    this.pause = pause;\n    this.play = play;\n    this.restart = restart;\n    this.tick = tick;\n\n    initialize.call(this, config);\n\n    if (expose === true) {\n\n        window.theatre = this;\n    }\n}\n\n// exports current module as an object\nexport {Theatre};\n","function Canvas(type, identifier, width, height, pixelated = false) {\n\n    const element = document.createElement('canvas');\n    const context = element.getContext(type);\n\n    function focus() {\n\n        element.setAttribute('tabindex', 0);\n        element.focus();\n    }\n\n    function resize(width, height) {\n\n        let ratio = window.devicePixelRatio || 1;\n\n        if (pixelated === true) {\n\n            ratio = Math.floor(ratio);\n        }\n\n        element.setAttribute('height', ratio * height);\n        element.setAttribute('width', ratio * width);\n\n        element.style.height = height + 'px';\n        element.style.width = width + 'px';\n\n        context.scale(ratio, ratio);\n\n        if (pixelated === true) {\n\n            sharp();\n        }\n    }\n\n    function sharp() {\n\n        element.style.imageRendering = '-moz-crisp-edges';\n        element.style.imageRendering = '-webkit-crisp-edges';\n        element.style.imageRendering = 'crisp-edges';\n        element.style.imageRendering = 'pixelated';\n        context.imageSmoothingEnabled = false;\n    }\n\n    element.setAttribute('id', identifier);\n    element.addEventListener('mousedown', focus);\n\n    resize(width, height);\n\n    this.context = context;\n    this.element = element;\n    this.focus = focus;\n    this.resize = resize;\n}\n\n// exports current module as an object\nexport {Canvas};\n","function Loop(handler, framerate = 60, speed = 1, panic = 4000) {\n\n    let elapsedTime = 0;\n    let lastUpdate = null;\n    let paused = false;\n\n    function update() {\n\n        const currentUpdate = performance.now();\n\n        if (lastUpdate !== null\n        && paused === false) {\n\n            // define elapsed time since last update\n            elapsedTime += currentUpdate - lastUpdate;\n\n            // call user's update handler matching timeframe, speed and fixing browser time handling\n            while (elapsedTime >= 1000 / this.framerate / this.speed\n            && paused === false) {\n\n                const panic = elapsedTime >= this.panic / this.speed;\n                const tick = (panic === false) ? tick = 1000 / this.framerate : elapsedTime * this.speed;\n\n                elapsedTime -= tick / this.speed;\n\n                handler(tick, panic);\n            }\n        }\n\n        // call user's update handler on each available frame\n        requestAnimationFrame(this.update.bind(this));\n\n        lastUpdate = currentUpdate;\n    }\n\n    function pause() {\n\n        paused = true;\n    }\n\n    function play() {\n\n        paused = false;\n    }\n\n    function tick(times = 1) {\n\n        // call user's update handler on each available frame\n        requestAnimationFrame(() => {\n\n            while (times--) {\n\n                handler(1000 / this.framerate);\n            }\n        });\n    }\n\n    this.framerate = framerate;\n    this.panic = panic;\n    this.speed = speed;\n\n    this.pause = pause;\n    this.play = play;\n    this.tick = tick;\n    this.update = update;\n}\n\n// exports current module as an object\nexport {Loop};\n","function preload(context, handler) {\n\n    const promises = [];\n\n    // preloads each asset\n    context.keys().map((key) => {\n\n        const [type, scope, name] = key.match(/(?!\\.\\/|\\/)(.+?)(?=(?:\\.[a-zA-Z0-9]+$)|\\/)/g);\n\n        const asset = {\n\n            'getter': null,\n            'name': name,\n            'scope': scope,\n            'source': null,\n            'type': type\n        };\n\n        // creates a promise for current asset preloading\n        const promise = new Promise(function (resolve, reject) {\n\n            // if current asset is a dataset then preload it\n            if (asset.type === 'datasets') {\n\n                context(key).then((source) => {\n\n                    asset.source = source;\n                    asset.getter = () => JSON.parse(JSON.stringify(source));\n\n                    resolve(asset);\n                });\n            }\n\n            // if current asset is an image then preload it\n            else if (asset.type === 'images') {\n\n                const image = new Image();\n\n                context(key).then((source) => {\n\n                    image.src = source;\n\n                    // when current image is loaded then resolve current promise\n                    image.onload = function () {\n\n                        asset.source = source;\n                        asset.getter = () => image;\n\n                        resolve(asset);\n                    };\n                });\n\n            }\n\n            // if current asset is a sound then preload it\n            else if (asset.type === 'sounds') {\n\n                context(key).then((source) => {\n\n                    const sound = new Audio(source);\n\n                    // when current sound is loaded then resolve current promise\n                    sound.oncanplaythrough = function () {\n\n                        asset.source = source;\n                        asset.getter = () => sound.cloneNode();\n\n                        resolve(asset);\n                    };\n                });\n            }\n        });\n\n        promises.push(promise);\n    });\n\n    // call user's success handler when all assets are preloaded\n    Promise.all(promises).then(handler);\n}\n\n// exports current module as a function\nexport {preload};\n","import {Theatre} from 'core/theatre.js';\n\nnew Theatre({\n\n    'container': document.body,\n    'debug': ENVIRONMENT.DEBUG,\n    'expose': ENVIRONMENT.EXPOSE,\n    'framerate': 60,\n    'panic': 4000,\n    'sharp': true,\n    'speed': 1\n});\n","var map = {\n\t\"./datasets/debug/inputs.json\": [\n\t\t112,\n\t\t1\n\t],\n\t\"./datasets/level/inputs.json\": [\n\t\t113,\n\t\t2\n\t],\n\t\"./images/common/placeholder-8x1.png\": [\n\t\t114,\n\t\t3\n\t],\n\t\"./images/level/background-16x16@1x.png\": [\n\t\t115,\n\t\t4\n\t],\n\t\"./images/level/best-48x16@1x.png\": [\n\t\t116,\n\t\t5\n\t],\n\t\"./images/level/clouds-160x16@1x.png\": [\n\t\t117,\n\t\t6\n\t],\n\t\"./images/level/flappy-bird-16x16@1x.png\": [\n\t\t118,\n\t\t7\n\t],\n\t\"./images/level/flappy-bird-shadow-16x8@1x.png\": [\n\t\t119,\n\t\t8\n\t],\n\t\"./images/level/foreground-16x16@1x.png\": [\n\t\t120,\n\t\t9\n\t],\n\t\"./images/level/game-over-64x64@1x.png\": [\n\t\t121,\n\t\t10\n\t],\n\t\"./images/level/numbers-8x16@1x.png\": [\n\t\t122,\n\t\t11\n\t],\n\t\"./images/level/numbers-blue-8x16@1x.png\": [\n\t\t123,\n\t\t12\n\t],\n\t\"./images/level/pipe-16x16@1x.png\": [\n\t\t124,\n\t\t13\n\t],\n\t\"./images/level/pipe-shadow-16x8@1x.png\": [\n\t\t125,\n\t\t14\n\t],\n\t\"./images/level/touch-screen-64x32@1x.png\": [\n\t\t126,\n\t\t15\n\t],\n\t\"./images/level/waves-16x16@1x.png\": [\n\t\t127,\n\t\t16\n\t],\n\t\"./sounds/level/explode.mp3\": [\n\t\t128,\n\t\t17\n\t],\n\t\"./sounds/level/jump.mp3\": [\n\t\t129,\n\t\t18\n\t],\n\t\"./sounds/level/score.mp3\": [\n\t\t130,\n\t\t19\n\t],\n\t\"./sounds/level/start.mp3\": [\n\t\t131,\n\t\t20\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tvar ids = map[req];\n\tif(!ids) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\treturn __webpack_require__.e(ids[1]).then(function() {\n\t\tvar id = ids[0];\n\t\treturn __webpack_require__(id);\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = 28;\nmodule.exports = webpackAsyncContext;","var map = {\n\t\"./cameras.json\": 30,\n\t\"./commands.json\": 31,\n\t\"./fade.json\": 32,\n\t\"./forces.json\": 33,\n\t\"./hitbox.json\": 34,\n\t\"./images.json\": 35,\n\t\"./inputs.json\": 36,\n\t\"./opacity.json\": 37,\n\t\"./position.json\": 38,\n\t\"./previous.json\": 39,\n\t\"./state.json\": 40,\n\t\"./timeout.json\": 41,\n\t\"./velocity.json\": 42\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) { // check for number or string\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn id;\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 29;","var map = {\n\t\"./level/background.json\": 44,\n\t\"./level/best-score.json\": 45,\n\t\"./level/bird.json\": 46,\n\t\"./level/ceil-pipe.json\": 47,\n\t\"./level/ceil.json\": 48,\n\t\"./level/chunk.json\": 49,\n\t\"./level/clouds.json\": 50,\n\t\"./level/floor-pipe.json\": 51,\n\t\"./level/floor.json\": 52,\n\t\"./level/game-over.json\": 53,\n\t\"./level/hit-score.json\": 54,\n\t\"./level/limit.json\": 55,\n\t\"./level/pipe-bottom.json\": 56,\n\t\"./level/pipe-shadow.json\": 57,\n\t\"./level/pipe-top.json\": 58,\n\t\"./level/score.json\": 59,\n\t\"./level/touch-screen.json\": 60,\n\t\"./level/waves.json\": 61\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) { // check for number or string\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn id;\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 43;","var map = {\n\t\"./level/start.json\": 63\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) { // check for number or string\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn id;\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 62;","var map = {\n\t\"./level/index.js\": 65,\n\t\"./loading/index.js\": 66\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) { // check for number or string\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn id;\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 64;","import {after} from './after.js';\nimport {before} from './before.js';\nimport {destroy} from './destroy.js';\nimport {panic} from './panic.js';\nimport {render} from './render.js';\nimport {resize} from './resize.js';\nimport {setup} from './setup.js';\nimport {start} from './start.js';\nimport {update} from './update.js';\n\nif (typeof module.hot !== 'undefined') {\n\n    module.hot.accept([\n\n        './after.js',\n        './before.js',\n        './destroy.js',\n        './panic.js',\n        './render.js',\n        './resize.js',\n        './setup.js',\n        './start.js',\n        './update.js'\n    ]);\n}\n\nexport {after, before, destroy, panic, render, resize, setup, start, update};\n","import {after} from './after.js';\nimport {before} from './before.js';\nimport {destroy} from './destroy.js';\nimport {panic} from './panic.js';\nimport {render} from './render.js';\nimport {resize} from './resize.js';\nimport {setup} from './setup.js';\nimport {start} from './start.js';\nimport {update} from './update.js';\n\nif (typeof module.hot !== 'undefined') {\n\n    module.hot.accept([\n\n        './after.js',\n        './before.js',\n        './destroy.js',\n        './panic.js',\n        './render.js',\n        './resize.js',\n        './setup.js',\n        './start.js',\n        './update.js'\n    ]);\n}\n\nexport {after, before, destroy, panic, render, resize, setup, start, update};\n","var map = {\n\t\"./common/easing-in-quart.js\": 68,\n\t\"./common/easing-linear.js\": 69,\n\t\"./common/easing-out-cubic.js\": 70,\n\t\"./common/easing-sine-half.js\": 71,\n\t\"./common/easing-sine.js\": 72,\n\t\"./common/handle-command.js\": 73,\n\t\"./common/handle-fade-ending.js\": 74,\n\t\"./common/handle-forces-ending.js\": 75,\n\t\"./common/handle-hitbox.js\": 76,\n\t\"./common/handle-state.js\": 77,\n\t\"./common/handle-timeout-ending.js\": 78,\n\t\"./common/remove-entity.js\": 79,\n\t\"./common/remove-fade.js\": 80,\n\t\"./common/remove-forces.js\": 81,\n\t\"./common/remove-hitbox.js\": 82,\n\t\"./common/remove-timeout.js\": 83,\n\t\"./common/restart.js\": 84,\n\t\"./common/setup-camera.js\": 111,\n\t\"./common/setup-world.js\": 110,\n\t\"./level/add-chunk.js\": 109,\n\t\"./level/best-score.js\": 85,\n\t\"./level/game-over.js\": 86,\n\t\"./level/handle-jump.js\": 87,\n\t\"./level/hit-score.js\": 88,\n\t\"./level/reload-chunk.js\": 89,\n\t\"./level/reset-position.js\": 90,\n\t\"./level/start-game.js\": 91\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) { // check for number or string\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn id;\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 67;","import {easeInQuart} from 'modules/ease.js';\n\nexport default function () {\n\n    return easeInQuart;\n};\n","import {linear} from 'modules/ease.js';\n\nexport default function () {\n\n    return linear(1);\n};\n","import {easeOutCubic} from 'modules/ease.js';\n\nexport default function () {\n\n    return easeOutCubic;\n};\n","export default function () {\n\n    return (x) => Math.sin(Math.PI * x);\n};\n","export default function () {\n\n    return (x) => Math.sin(2 * Math.PI * x);\n};\n","export default function (entity, message) {\n\n    console.log('debugging :', 'component', '\\'' + 'command' + '\\'');\n    console.log(message);\n    console.log('debugging :', 'entity', '\\'' + entity.name + '\\'');\n    console.log(entity);\n};\n","export default function (entity, extra) {\n\n    console.log('debugging :', 'component', '\\'' + 'fade' + '\\'', '(ending)');\n    console.log(extra);\n    console.log('debugging :', 'entity', '\\'' + entity.name + '\\'');\n    console.log(entity);\n\n    this.snippets.common['remove-fade'](entity);\n};\n","export default function (entity, extra) {\n\n    console.log('debugging :', 'component', '\\'' + 'forces' + '\\'',  '(ending)');\n    console.log(extra);\n    console.log('debugging :', 'entity', '\\'' + entity.name + '\\'');\n    console.log(entity);\n};\n","export default function (entity, collision) {\n\n    if (entity.has('forces') === false) {\n\n        entity.add({\n\n            'name': 'forces',\n            'parameters': []\n        });\n    }\n\n    if (entity.has('velocity') === false) {\n\n        entity.add({\n\n            'name': 'velocity',\n            'parameters': {\n\n                'top': 0,\n                'right': 0,\n                'bottom': 0,\n                'left': 0\n            }\n        });\n    }\n\n    const forcesComponent = entity.get('forces');\n    const velocityComponent = entity.get('velocity');\n\n    let forces = [];\n\n    if (collision.from.top === true) {\n\n        velocityComponent.bottom = Math.max(velocityComponent.bottom, collision.delta.top);\n\n        forces = forcesComponent.filter((force) => {\n\n            return force.y >= 0;\n        });\n    }\n\n    if (collision.from.right === true) {\n\n        velocityComponent.left = Math.max(velocityComponent.left, collision.delta.right);\n\n        forces = forcesComponent.filter((force) => {\n\n            return force.x <= 0;\n        });\n    }\n\n    if (collision.from.bottom === true) {\n\n        velocityComponent.top = Math.max(velocityComponent.top, collision.delta.bottom);\n\n        forces = forcesComponent.filter((force) => {\n\n            return force.y <= 0;\n        });\n    }\n\n    if (collision.from.left === true) {\n\n        velocityComponent.right = Math.max(velocityComponent.right, collision.delta.left);\n\n        forces = forcesComponent.filter((force) => {\n\n            return force.x >= 0;\n        });\n    }\n\n    entity.add({\n\n        'name': 'forces',\n        'parameters': forces\n    });\n};\n","export default function (entity, changes) {\n\n    console.log('debugging :', 'component', '\\'' + 'state' + '\\'');\n    console.log(changes);\n    console.log('debugging :', 'entity', '\\'' + entity.name + '\\'');\n    console.log(entity);\n};\n","export default function (entity, extra) {\n\n    console.log('debugging :', 'component', '\\'' + 'timeout' + '\\'',  '(ending)');\n    console.log(extra);\n    console.log('debugging :', 'entity', '\\'' + entity.name + '\\'');\n    console.log(entity);\n\n    this.snippets.common['remove-timeout'](entity);\n};\n","export default function (entity) {\n\n    this.$.world.remove(entity);\n};\n","export default function (entity) {\n\n    entity.remove('fade');\n};\n","export default function (entity) {\n\n    entity.remove('forces');\n};\n","export default function (entity, collision) {\n\n    entity.remove('hitbox');\n};\n","export default function (entity) {\n\n    entity.remove('timeout');\n};\n","export default function () {\n\n    this.restart();\n};\n","export default function () {\n\n    const bestScore = this.$.world.prepare(this.entities.level['best-score']());\n\n    const text = '' + this.$.best;\n    const numbers = text.length;\n    const images = [\n\n        {\n            'name': 'best',\n            '$source': {\n\n                'type': 'images',\n                'scope': 'level',\n                'name': 'best-48x16@1x'\n            },\n            'frames': [\n\n                [0, 0, 48, 16]\n            ],\n            'frame': 0,\n            'framerate': 8,\n            'destination': [0, 0, 0, 48, 16],\n            'opacity': 1,\n            'elapsed': 0\n        }\n    ];\n\n    for (let index = 0; index < numbers; index += 1) {\n\n        const image = {\n\n            'name': 'idle',\n            '$source': {\n\n                'type': 'images',\n                'scope': 'level',\n                'name': 'numbers-blue-8x16@1x'\n            },\n            'frames': [\n\n                [parseInt(text[index], 10), 0, 8, 16]\n            ],\n            'frame': 0,\n            'framerate': 8,\n            'destination': [156 - (numbers - index) * 8, 0, 0, 8, 16],\n            'opacity': 1,\n            'elapsed': 0\n        };\n\n        images.push(image);\n    }\n\n    bestScore.add({\n\n        'name': 'images',\n        'parameters': images\n    });\n\n    this.$.world.attach(bestScore);\n};\n","export default function (entity, collision) {\n\n    entity.remove(['forces', 'hitbox', 'inputs']);\n\n    if (entity.has('velocity') === false) {\n\n        entity.add({\n\n            'name': 'velocity',\n            'parameters': {\n\n                'top': 0,\n                'right': 0,\n                'bottom': 0,\n                'left': 0\n            }\n        });\n    }\n\n    const velocityComponent = entity.get('velocity');\n\n    if (collision.from.top === true) {\n\n        velocityComponent.bottom = collision.delta.top;\n    }\n\n    if (collision.from.right === true) {\n\n        velocityComponent.left = collision.delta.right;\n    }\n\n    if (collision.from.bottom === true) {\n\n        velocityComponent.top = collision.delta.bottom;\n    }\n\n    if (collision.from.left === true) {\n\n        velocityComponent.right = collision.delta.left;\n    }\n\n    entity.add({\n\n        'name': 'forces',\n        'parameters': [\n\n            {\n                'x': collision.from.right === true ? -24 : 24,\n                'y': 0,\n                'duration': 1000,\n                '$easing': {\n\n                    'type': 'snippets',\n                    'scope': 'common',\n                    'name': 'easing-linear'\n                },\n                '$handling': false,\n                '$ending': false,\n                'elapsed': 0\n            },\n            {\n                'x': 0,\n                'y': -16,\n                'duration': 200,\n                '$easing': {\n\n                    'type': 'snippets',\n                    'scope': 'common',\n                    'name': 'easing-out-cubic'\n                },\n                '$handling': false,\n                '$ending': true,\n                'elapsed': 0\n            },\n            {\n                'x': 0,\n                'y': 16,\n                'duration': 400,\n                '$easing': {\n\n                    'type': 'snippets',\n                    'scope': 'common',\n                    'name': 'easing-in-quart'\n                },\n                '$handling': false,\n                '$ending': false,\n                'elapsed': 0\n            }\n        ]\n    });\n\n    this.$.camera.shake(4, 4, 200);\n    this.$.hud.shake(2, 2, 200);\n\n    this.assets.sounds.level['explode']().play();\n\n    this.$.world.add(this.entities.level['game-over']());\n};\n","export default function (entity) {\n\n    entity.add({\n\n        'name': 'forces',\n        'parameters': [\n\n            {\n                'x': 48,\n                'y': 0,\n                'duration': 1000,\n                '$easing': {\n\n                    'type': 'snippets',\n                    'scope': 'common',\n                    'name': 'easing-linear'\n                },\n                '$handling': false,\n                '$ending': false,\n                'elapsed': 0\n            },\n            {\n\n                'x': 0,\n                'y': -12,\n                'duration': 200,\n                '$easing': {\n\n                    'type': 'snippets',\n                    'scope': 'common',\n                    'name': 'easing-out-cubic'\n                },\n                '$handling': false,\n                '$ending': true,\n                'elapsed': 0\n            },\n            {\n                'x': 0,\n                'y': 144,\n                'duration': 1000,\n                '$easing': {\n\n                    'type': 'snippets',\n                    'scope': 'common',\n                    'name': 'easing-in-quart'\n                },\n                '$handling': false,\n                '$ending': false,\n                'elapsed': 0\n            }\n        ]\n    });\n\n    this.assets.sounds.level['jump']().play();\n};\n","import * as memory from 'modules/memory.js';\n\nexport default function (entity) {\n\n    this.$.score += 1;\n\n    if (this.$.score > this.$.best) {\n\n        this.$.best = this.$.score;\n        memory.set('best', this.$.best);\n        this.snippets.level['best-score']();\n    }\n\n    entity.get('position').x += 64;\n\n    const score = this.$.world.get('score');\n\n    const text = '' + this.$.score;\n    const numbers = text.length;\n    const images = [];\n\n    for (let index = 0; index < numbers; index += 1) {\n\n        const image = {\n\n            'name': 'idle',\n            '$source': {\n\n                'type': 'images',\n                'scope': 'level',\n                'name': 'numbers-8x16@1x'\n            },\n            'frames': [\n\n                [parseInt(text[index], 10), 0, 8, 16]\n            ],\n            'frame': 0,\n            'framerate': 8,\n            'destination': [8 * index - 4 * (numbers - 1), 0, 0, 8, 16],\n            'opacity': 1,\n            'elapsed': 0\n        };\n\n        images.push(image);\n    }\n\n    score.add({\n\n        'name': 'images',\n        'parameters': images\n    });\n\n    this.assets.sounds.level['score']().play();\n};\n","export default function (entity, collision) {\n\n    this.snippets.level['reset-position'](entity);\n\n    const name = entity.name;\n    const index = name.match(/^[a-z-]+([0-9]+)$/)[1];\n\n    this.snippets.level['add-chunk'](index, entity.get('position').x);\n};\n","export default function (entity) {\n\n    entity.get('position').x += 160 * 2;\n};\n","export default function (entity) {\n\n    this.snippets.common['remove-entity'](entity);\n\n    const x = (16 * Math.ceil(this.$.world.get('background').get('position').x / 16)) + 160;\n\n    const hitScore = this.$.world.prepare(this.entities.level['hit-score']());\n    hitScore.name = 'hit-score';\n    hitScore.get('position').x = x + 32;\n    this.$.world.attach(hitScore);\n\n    for (let index = 1; index < 6; index += 1) {\n\n        const chunk = this.$.world.prepare(this.entities.level['chunk']());\n        chunk.name = 'chunk-' + index;\n        chunk.get('position').x = x + 4 * 16 * (index - 1);\n        this.$.world.attach(chunk);\n\n        this.snippets.level['add-chunk'](index, chunk.get('position').x);\n    }\n};\n","var map = {\n\t\"./common/commands.js\": 93,\n\t\"./common/fade.js\": 94,\n\t\"./common/forces.js\": 95,\n\t\"./common/hitbox.js\": 96,\n\t\"./common/images.js\": 97,\n\t\"./common/inputs.js\": 98,\n\t\"./common/previous.js\": 99,\n\t\"./common/spritesheets.js\": 100,\n\t\"./common/state.js\": 101,\n\t\"./common/timeout.js\": 102,\n\t\"./common/velocity.js\": 103,\n\t\"./debug/camera.js\": 104,\n\t\"./debug/hitbox.js\": 105,\n\t\"./debug/inputs.js\": 106,\n\t\"./debug/pause.js\": 107,\n\t\"./debug/spritesheet.js\": 108\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) { // check for number or string\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn id;\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 92;","function commands(entities) {\n\n    Object.entries(entities).forEach(([name, entity]) => {\n\n        const commands = entity.get('commands');\n\n        commands.forEach(({$command, parameters}) => {\n\n            const $handling = this.snippets[$command.scope][$command.name];\n\n            $handling(entity, ...parameters);\n        });\n\n        entity.remove('commands');\n    });\n}\n\nexport {commands};\n","import * as Ease from 'modules/ease.js';\n\nfunction fade(entities) {\n\n    Object.entries(entities).forEach(([name, entity]) => {\n\n        const fadeComponent = entity.get('fade');\n\n        if (entity.has('opacity') === false) {\n\n            entity.add({\n\n                'name': 'opacity',\n                'parameters': {\n\n                    'opacity': 1\n                }\n            });\n        }\n\n        const opacityComponent = entity.get('opacity');\n\n        if (typeof fadeComponent.fade === 'undefined') {\n\n            fadeComponent.fade = fadeComponent.opacity - opacityComponent.opacity;\n        }\n\n        if (typeof fadeComponent.faded === 'undefined') {\n\n            fadeComponent.faded = 0;\n        }\n\n        const $source = fadeComponent.$easing;\n        const $easing = (fadeComponent.$easing !== false ? this.snippets[$source.scope][$source.name]() : Ease.linear(1));\n\n        const remaining = fadeComponent.duration - fadeComponent.elapsed;\n        const delta = this.delta > remaining ? remaining : this.delta;\n\n        const progress = (fadeComponent.elapsed + delta) / fadeComponent.duration;\n        const faded = fadeComponent.fade * $easing(progress);\n\n        opacityComponent.opacity += faded - fadeComponent.faded;\n        fadeComponent.faded = faded;\n\n        fadeComponent.elapsed += delta;\n\n        if (fadeComponent.elapsed >= fadeComponent.duration\n        && fadeComponent.$ending !== false) {\n\n            const $source = fadeComponent.$ending;\n            const $ending = this.snippets[$source.scope][$source.name];\n\n            $ending(entity, this.delta - delta);\n        }\n    });\n}\n\nexport {fade};\n","import * as Ease from 'modules/ease.js';\n\nfunction forces(entities) {\n\n    Object.entries(entities).forEach(([name, entity]) => {\n\n        const forcesComponent = entity.get('forces');\n\n        if (entity.has('velocity') === false) {\n\n            entity.add({\n\n                'name': 'velocity',\n                'parameters': {\n\n                    'top': 0,\n                    'right': 0,\n                    'bottom': 0,\n                    'left': 0\n                }\n            });\n        }\n\n        const velocityComponent = entity.get('velocity');\n\n        const trashes = [];\n\n        forcesComponent.forEach((force) => {\n\n            const unlimited = force.$ending === false;\n            const remaining = force.duration - force.elapsed;\n            const delta = (unlimited === false && this.delta > remaining) ? remaining : this.delta;\n\n            const progress = (force.elapsed + delta) / force.duration;\n\n            const $source = force.$easing;\n            const $easing = (force.$easing !== false ? this.snippets[$source.scope][$source.name]() : Ease.linear(1));\n\n            if (typeof force.moved === 'undefined') {\n\n                force.moved = {\n\n                    'x': 0,\n                    'y': 0\n                };\n            }\n\n            const moved = {\n\n                'x': force.x * $easing(progress),\n                'y': force.y * $easing(progress)\n            };\n\n            const top = (moved.y - force.moved.y < 0) ? Math.abs(moved.y - force.moved.y) : 0;\n            const right = Math.max(moved.x - force.moved.x, 0);\n            const bottom = Math.max(moved.y - force.moved.y, 0);\n            const left = (moved.x - force.moved.x < 0) ? Math.abs(moved.x - force.moved.x) : 0;\n\n            velocityComponent.top = Math.max(velocityComponent.top, top);\n            velocityComponent.right = Math.max(velocityComponent.right, right);\n            velocityComponent.bottom = Math.max(velocityComponent.bottom, bottom);\n            velocityComponent.left = Math.max(velocityComponent.left, left);\n\n            force.moved = moved;\n\n            force.elapsed += this.delta;\n\n            if (force.$handling !== false) {\n\n                const $source = force.$handling;\n                const $handling = this.snippets[$source.scope][$source.name];\n\n                const remove = () => {\n\n                    trashes.push(force);\n                };\n\n                $handling(entity, force.moved.x, force.moved.y, force.elapsed, remove);\n            }\n\n            if (force.elapsed >= force.duration\n            && force.$ending !== false\n            && trashes.indexOf(force) === -1) {\n\n                if (typeof force.$ending === 'object') {\n\n                    const $source = force.$ending;\n                    const $ending = this.snippets[$source.scope][$source.name];\n\n                    const extra = force.elapsed - force.duration;\n\n                    $ending(entity, extra);\n                }\n\n                trashes.push(force);\n            }\n        });\n\n        const forces = forcesComponent.filter((force) => {\n\n            return trashes.indexOf(force) === -1;\n        });\n\n        if (forces.length === 0) {\n\n            entity.remove('forces');\n        }\n\n        else {\n\n            entity.add({\n\n                'name': 'forces',\n                'parameters': forces\n            });\n        }\n    });\n}\n\nexport {forces};\n","import {collide} from 'modules/collide.js';\nimport {Rectangle} from 'modules/shape.js';\n\nfunction hitbox(entities) {\n\n    const resolvers = [];\n\n    Object.entries(entities).forEach(([nameA, entityA]) => {\n\n        const hitboxComponentA = entityA.get('hitbox');\n        const positionComponentA = entityA.get('position');\n\n        const collideableA = hitboxComponentA.collideable;\n        const collideableTypesA = Object.keys(collideableA);\n\n        Object.entries(entities).forEach(([nameB, entityB]) => {\n\n            if (nameA === nameB) {\n\n                return;\n            }\n\n            const hitboxComponentB = entityB.get('hitbox');\n            const positionComponentB = entityB.get('position');\n\n            if (collideableTypesA.indexOf(hitboxComponentB.type) !== -1) {\n\n                const A = new Rectangle(\n\n                    positionComponentA.x + hitboxComponentA.x,\n                    positionComponentA.y + hitboxComponentA.y,\n                    hitboxComponentA.width,\n                    hitboxComponentA.height\n                );\n\n                const B = new Rectangle(\n\n                    positionComponentB.x + hitboxComponentB.x,\n                    positionComponentB.y + hitboxComponentB.y,\n                    hitboxComponentB.width,\n                    hitboxComponentB.height\n                );\n\n                if (collide(A, B) === true) {\n\n                    const penetration = {\n\n                        'top': (A.y > B.y && A.y < B.y + B.height) ? B.height - (A.y - B.y) : 0,\n                        'right': (A.x + A.width > B.x && A.x + A.width < B.x + B.width) ? A.x + A.width - B.x : 0,\n                        'bottom': (A.y + A.height > B.y && A.y + A.height < B.y + B.height) ? A.y + A.height - B.y : 0,\n                        'left': (A.x > B.x && A.x < B.x + B.width) ? B.width - (A.x - B.x) : 0\n                    };\n\n                    const previousPositionComponentA = entityA.get('previous').position;\n                    const previousPositionComponentB = entityB.get('previous').position;\n\n                    const previousHitboxComponentA = entityA.get('previous').hitbox;\n                    const previousHitboxComponentB = entityB.get('previous').hitbox;\n\n                    const previousA = new Rectangle(\n\n                        previousPositionComponentA.x + previousHitboxComponentA.x,\n                        previousPositionComponentA.y + previousHitboxComponentA.y,\n                        previousHitboxComponentA.width,\n                        previousHitboxComponentA.height\n                    );\n\n                    const previousB = new Rectangle(\n\n                        previousPositionComponentB.x + previousHitboxComponentB.x,\n                        previousPositionComponentB.y + previousHitboxComponentB.y,\n                        previousHitboxComponentB.width,\n                        previousHitboxComponentB.height\n                    );\n\n                    const previousOverlapX = !(previousA.x + previousA.width - 1 < previousB.x || previousA.x > previousB.x + previousB.width - 1);\n                    const previousOverlapY = !(previousA.y + previousA.height - 1 < previousB.y || previousA.y > previousB.y + previousB.height - 1);\n\n                    let top = previousOverlapX === true && previousOverlapY === false && previousA.y > A.y;\n                    let right = previousOverlapY === true && previousOverlapX === false && previousA.x < A.x;\n                    let bottom = previousOverlapX === true && previousOverlapY === false && previousA.y < A.y;\n                    let left = previousOverlapY === true && previousOverlapX === false && previousA.x > A.x;\n\n                    if (previousOverlapX === false\n                    && previousOverlapY === false) {\n\n                        if (penetration.top > 0 && (penetration.top <= penetration.right || penetration.top <= penetration.left)) {\n\n                            top = true;\n                        }\n\n                        else if (penetration.right > 0 && (penetration.right <= penetration.top || penetration.right <= penetration.bottom)) {\n\n                            right = true;\n                        }\n\n                        else if (penetration.bottom > 0 && (penetration.bottom <= penetration.right || penetration.bottom <= penetration.left)) {\n\n                            bottom = true;\n                        }\n\n                        else if (penetration.left > 0 && (penetration.left <= penetration.bottom || penetration.left <= penetration.top)) {\n\n                            left = true;\n                        }\n                    }\n\n                    const direction = {\n\n                        'top': top,\n                        'right': right,\n                        'bottom': bottom,\n                        'left': left\n                    };\n\n                    const collision = {\n\n                        'delta': penetration,\n                        'from': direction\n                    };\n\n                    const {scope, name} = collideableA[hitboxComponentB.type];\n\n                    resolvers.push(this.snippets[scope][name].bind(this, entityA, collision));\n                }\n            }\n        });\n    });\n\n    resolvers.forEach((resolver) => {\n\n        resolver();\n    });\n}\n\nexport {hitbox};\n","function images(entities) {\n\n    Object.entries(entities).forEach(([name, entity]) => {\n\n        const camerasComponent = entity.get('cameras');\n        const imagesComponent = entity.get('images');\n        const positionComponent = entity.get('position');\n\n        camerasComponent.forEach((camera) => {\n\n            const $camera = this.$[camera.$camera.name];\n\n            imagesComponent.forEach((image) => {\n\n                const {destination, frames, opacity, $source} = image;\n\n                let [x, y, width, height] = frames[image.frame];\n                let data;\n\n                try {\n\n                    data = this.assets[$source.type][$source.scope][$source.name]();\n                }\n                catch (error) {\n\n                    x = x % 8;\n                    y = y % 1;\n                    width = 1;\n                    height = 1;\n\n                    data = this.assets.images.common['placeholder-8x1']();\n                }\n\n                $camera.add({\n\n                    'source': data,\n                    'frame': {\n\n                        'x': width * x,\n                        'y': height * y,\n                        'width': width,\n                        'height': height\n                    },\n                    'destination': {\n\n                        'x': positionComponent.x + destination[0],\n                        'y': positionComponent.y + destination[1],\n                        'z': positionComponent.z + destination[2],\n                        'width': destination[3],\n                        'height': destination[4]\n                    },\n                    'opacity': camera.opacity * opacity * (entity.has('opacity') ? entity.get('opacity').opacity : 1)\n                });\n            });\n        });\n    });\n}\n\nexport {images};\n","function inputs(entities) {\n\n    Object.entries(entities).forEach(([name, entity]) => {\n\n        this.$.controllers.inputs.forEach((input) => {\n\n            const inputsComponent = entity.get('inputs');\n\n            inputsComponent.forEach((control) => {\n\n                if (Array.isArray(control.actions) === true\n                && control.actions.indexOf(input.action) !== -1\n                && control.state === input.state) {\n\n                    const command = {\n\n                        '$command': control.$command,\n                        'parameters': [input]\n                    };\n\n                    if (entity.has('commands') === true) {\n\n                        entity.get('commands').push(command);\n                    }\n\n                    else {\n\n                        entity.add({\n\n                            'name': 'commands',\n                            'parameters': [command]\n                        });\n                    }\n                }\n            });\n        });\n    });\n}\n\nexport {inputs};\n","function previous(entities) {\n\n    Object.entries(entities).forEach(([name, entity]) => {\n\n        const components = {};\n\n        if (entity.has('position') === true) {\n\n            components.position = JSON.parse(JSON.stringify(entity.get('position')));\n        }\n\n        if (entity.has('hitbox') === true) {\n\n            components.hitbox = JSON.parse(JSON.stringify(entity.get('hitbox')));\n        }\n\n        const previous = {\n\n            'name': 'previous',\n            'parameters': components\n        };\n\n        entity.add(previous);\n    });\n}\n\nexport {previous};\n","function spritesheets(entities) {\n\n    Object.entries(entities).forEach(([name, entity]) => {\n\n        const imagesComponent = entity.get('images');\n\n        imagesComponent.forEach((image) => {\n\n            const {framerate, frames} = image;\n\n            if (frames.length > 1) {\n\n                image.elapsed += this.delta;\n\n                const duration = 1000 / framerate;\n\n                while (image.elapsed >= duration) {\n\n                    image.elapsed -= duration;\n                    image.frame = (image.frame === frames.length - 1) ? 0 : image.frame + 1;\n                }\n            }\n        });\n    });\n}\n\nexport {spritesheets};\n","function state(entities) {\n\n    Object.entries(entities).forEach(([name, entity]) => {\n\n        const stateComponent = entity.get('state');\n\n        const changes = stateComponent.changes;\n\n        if (changes.length > 0) {\n\n            const $source = stateComponent.$handling;\n            const $handling = this.snippets[$source.scope][$source.name]\n\n            stateComponent.changes = [];\n\n            $handling(entity, changes);\n        }\n    });\n}\n\nexport {state};\n","function timeout(entities) {\n\n    Object.entries(entities).forEach(([name, entity]) => {\n\n        const timeoutComponent = entity.get('timeout');\n\n        timeoutComponent.elapsed += this.delta;\n\n        if (timeoutComponent.elapsed >= timeoutComponent.duration\n        && timeoutComponent.$ending !== false) {\n\n            const $source = timeoutComponent.$ending;\n            const $ending = this.snippets[$source.scope][$source.name];\n\n            const extra = timeoutComponent.elapsed - timeoutComponent.duration;\n\n            $ending(entity, extra);\n        }\n    });\n}\n\nexport {timeout};\n","function velocity(entities) {\n\n    Object.entries(entities).forEach(([name, entity]) => {\n\n        const positionComponent = entity.get('position');\n        const velocityComponent = entity.get('velocity');\n\n        positionComponent.x += velocityComponent.right - velocityComponent.left;\n        positionComponent.y += velocityComponent.bottom - velocityComponent.top;\n\n        velocityComponent.top = 0;\n        velocityComponent.right = 0;\n        velocityComponent.bottom = 0;\n        velocityComponent.left = 0;\n    });\n}\n\nexport {velocity};\n","function camera(entities) {\n\n    const camera = this.$.camera;\n\n    const width = 2 * camera.screen.scale();\n    const size = width * 2;\n    const offset = width / 2;\n\n    this.context.save();\n\n    this.context.lineWidth = width;\n    this.context.font = 'bold ' + size + 'px Courier New';\n    this.context.textAlign = 'start';\n    this.context.textBaseline = 'top';\n\n    this.context.fillStyle = '#d95763';\n\n    this.context.fillText(\n\n        'camera \\'' + camera.name + '\\'',\n        camera.screen.x() + camera.screen.width() - size - this.context.measureText('camera \\'' + camera.name + '\\'').width,\n        camera.screen.y() + size\n    );\n\n    this.context.strokeStyle = '#d95763';\n\n    this.context.strokeRect(\n\n        this.$.camera.screen.x() + offset,\n        this.$.camera.screen.y() + offset,\n        this.$.camera.screen.width() - width,\n        this.$.camera.screen.height() - width\n    );\n\n    this.context.restore();\n}\n\nexport {camera};\n","import {Rectangle} from 'modules/shape.js';\n\nfunction hitbox(entities) {\n\n    Object.entries(entities).forEach(([name, entity]) => {\n\n        const camerasComponent = entity.get('cameras');\n        const hitboxComponent = entity.get('hitbox');\n        const positionComponent = entity.get('position');\n\n        camerasComponent.forEach((camera) => {\n\n            const $camera = this.$[camera.$camera.name];\n\n            const hitbox = new Rectangle(\n\n                $camera.screen.x() + (positionComponent.x + hitboxComponent.x) * $camera.screen.scale() - ($camera.position.x() * $camera.screen.scale() - $camera.screen.width() / 2 + $camera.shaking.shift.x * $camera.screen.scale()),\n                $camera.screen.y() + (positionComponent.y + hitboxComponent.y) * $camera.screen.scale() - ($camera.position.y() * $camera.screen.scale() - $camera.screen.height() / 2 + $camera.shaking.shift.y * $camera.screen.scale()),\n                hitboxComponent.width * $camera.screen.scale(),\n                hitboxComponent.height * $camera.screen.scale()\n            );\n\n            const width = 1 * $camera.screen.scale();\n            const offset = width / 2;\n\n            this.context.save();\n\n            this.context.fillStyle = 'rgba(106, 190, 48, 0.2)';\n            this.context.fillRect(hitbox.x, hitbox.y, hitbox.width, hitbox.height);\n\n            this.context.lineWidth = width;\n\n            this.context.strokeStyle = '#6abe30';\n\n            this.context.strokeRect(hitbox.x + offset, hitbox.y + offset, hitbox.width - width, hitbox.height - width);\n\n            this.context.restore();\n        });\n    });\n}\n\nexport {hitbox};\n","function inputs(entities) {\n\n    this.$.controllers.inputs.forEach((input) => {\n\n        if (input.type === 'KEYBOARD'\n        && input.action === 'KEY_SHIFT'\n        && input.state === 'DOWN') {\n\n            console.log('debugging :', 'restart game', '(' + this.loop.framerate + 'fps @' + this.loop.speed + 'x)');\n\n            this.restart();\n        }\n\n        else if (input.type === 'KEYBOARD'\n        && input.action === 'KEY_SPACE'\n        && input.state === 'DOWN') {\n\n            if (this.playing === false) {\n\n                console.log('debugging :', 'play game', '(' + this.loop.framerate + 'fps @' + this.loop.speed + 'x)');\n\n                this.play();\n            }\n\n            else if (this.playing === true) {\n\n                console.log('debugging :', 'pause game', '(' + this.loop.framerate + 'fps @' + this.loop.speed + 'x)');\n\n                this.pause();\n            }\n        }\n\n        else if (input.type === 'KEYBOARD'\n        && input.action === 'KEY_ENTER'\n        && input.state === 'DOWN') {\n\n            console.log('debugging :', 'tick game', '(' + (Math.round(this.delta * 100) / 100) + 'ms @' + this.loop.speed + 'x)');\n\n            this.tick();\n        }\n\n        else if (input.type === 'MOUSE'\n        && input.action === 'MOVE') {\n\n            this.$.debugging.x = input.x;\n            this.$.debugging.y = input.y;\n        }\n    });\n}\n\nexport {inputs};\n","function pause(entities) {\n\n    if (this.playing === false) {\n\n        this.context.save();\n\n        const left = 4;\n        const width = 8;\n        const offset = width / 2;\n\n        this.context.lineWidth = width;\n\n        this.context.fillStyle = 'black';\n\n        this.context.fillRect(32 - 16, 32 - 16, 32 + 2 * 16, 32 + 2 * 16);\n\n        this.context.strokeStyle = 'white';\n\n        this.context.beginPath();\n        this.context.moveTo(left + 32 + offset, 32);\n        this.context.lineTo(left + 32 + offset, 32 + 32);\n        this.context.moveTo(left + 32 + offset + 16, 32);\n        this.context.lineTo(left + 32 + offset + 16, 32 + 32);\n        this.context.stroke();\n\n        this.context.restore();\n    }\n}\n\nexport {pause};\n","import {collide} from 'modules/collide.js';\nimport {Point, Rectangle} from 'modules/shape.js';\n\nfunction spritesheet(entities) {\n\n    const highest = {\n\n        'z': 0,\n        'camera': null,\n        'entity': null,\n        'spritesheet': null\n    };\n\n    Object.entries(entities).forEach(([name, entity]) => {\n\n        const imagesComponent = entity.get('images');\n\n        imagesComponent.forEach((spritesheet) => {\n\n            const camerasComponent = entity.get('cameras');\n            const positionComponent = entity.get('position');\n\n            camerasComponent.forEach((camera) => {\n\n                const $camera = this.$[camera.$camera.name];\n\n                const destination = {\n\n                    'x': positionComponent.x + spritesheet.destination[0],\n                    'y': positionComponent.y + spritesheet.destination[1],\n                    'z': positionComponent.z + spritesheet.destination[2],\n                    'width': spritesheet.destination[3],\n                    'height': spritesheet.destination[4]\n                };\n\n                const mouse = new Point(this.$.debugging.x, this.$.debugging.y);\n\n                const sprite = new Rectangle(\n\n                    $camera.screen.x() + destination.x * $camera.screen.scale() - ($camera.position.x() * $camera.screen.scale() - $camera.screen.width() / 2 + $camera.shaking.shift.x * $camera.screen.scale()),\n                    $camera.screen.y() + destination.y * $camera.screen.scale() - ($camera.position.y() * $camera.screen.scale() - $camera.screen.height() / 2 + $camera.shaking.shift.y * $camera.screen.scale()),\n                    destination.width * $camera.screen.scale(),\n                    destination.height * $camera.screen.scale()\n                );\n\n                const screen = new Rectangle(\n\n                    $camera.screen.x(),\n                    $camera.screen.y(),\n                    $camera.screen.width(),\n                    $camera.screen.height(),\n                );\n\n                if (typeof this.$.debugging.x === 'number'\n                && typeof this.$.debugging.y === 'number'\n                && destination.z >= highest.z\n                && collide(mouse, sprite) === true\n                && collide(mouse, screen) === true) {\n\n                    highest.z = destination.z;\n                    highest.camera = $camera;\n                    highest.entity = entity;\n                    highest.spritesheet = {\n\n                        'name': spritesheet.name,\n                        'x': sprite.x,\n                        'y': sprite.y,\n                        'z': destination.z,\n                        'width': sprite.width,\n                        'height': sprite.height\n                    };\n                }\n\n                this.$.controllers.inputs.forEach((input) => {\n\n                    if (input.type === 'MOUSE'\n                    && input.action === 'CLICK_LEFT'\n                    && input.state === 'DOWN') {\n\n                        const mouse = new Point(\n\n                            input.x,\n                            input.y\n                        );\n\n                        if (collide(mouse, sprite) === true\n                        && collide(mouse, screen) === true) {\n\n                            console.log('debugging :', 'entity', '\\'' + entity.name + '\\'', '/' , 'spritesheet', '\\'' + spritesheet.name + '\\'', '/', 'camera', '\\'' + $camera.name + '\\'');\n                            console.log(entity);\n                        }\n                    }\n                });\n            });\n        });\n    });\n\n    if (highest.entity !== null) {\n\n        const {camera, entity, spritesheet} = highest;\n\n        const width = 2 * camera.screen.scale();\n        const size = width * 2;\n\n        this.context.save();\n\n        this.context.lineWidth = width;\n        this.context.font = 'bold ' + size + 'px Courier New';\n        this.context.textAlign = 'start';\n        this.context.textBaseline = 'top';\n\n        this.context.fillStyle = 'black';\n\n        let layer = this.context.measureText('entity \\'' + entity.name + '\\'').width;\n\n        if (spritesheet.height >= size * 2) layer = Math.max(this.context.measureText('entity \\'' + entity + '\\'').width, this.context.measureText('spritesheet \\'' + spritesheet.name + '\\'').width);\n\n        this.context.fillRect(spritesheet.x + spritesheet.width, spritesheet.y - size, layer + (size * 2), spritesheet.height + (size * 2));\n        this.context.fillRect(spritesheet.x - size, spritesheet.y - size, spritesheet.width + size, size);\n        this.context.fillRect(spritesheet.x - size, spritesheet.y, size, spritesheet.height);\n        this.context.fillRect(spritesheet.x - size, spritesheet.y + spritesheet.height, spritesheet.width + size, size);\n\n        this.context.fillStyle = 'white';\n\n        if (spritesheet.height >= size * 1) this.context.fillText('entity \\'' + entity.name + '\\'', spritesheet.x + spritesheet.width + size, spritesheet.y + size * 0);\n        if (spritesheet.height >= size * 2) this.context.fillText('spritesheet \\'' + spritesheet.name + '\\'', spritesheet.x + spritesheet.width + size, spritesheet.y + size * 1);\n        if (spritesheet.height >= size * 3) this.context.fillText('camera \\'' + highest.camera.name + '\\'', spritesheet.x + spritesheet.width + size, spritesheet.y + size * 2);\n\n        this.context.restore();\n\n        this.$.controllers.inputs.forEach((input) => {\n\n            if (input.type === 'KEYBOARD'\n            && input.action === 'KEY_DELETE'\n            && input.state === 'DOWN') {\n\n                this.$.world.remove(highest.entity);\n            }\n        });\n    }\n}\n\nexport {spritesheet};\n","import {random} from 'modules/random.js';\n\nexport default function (index, x) {\n\n    const checkpoint = random(3);\n\n    const pipeTop = this.$.world.prepare(this.entities.level['pipe-top']());\n    pipeTop.name = 'pipe-top-' + index;\n    pipeTop.get('position').x = x;\n    pipeTop.get('position').y = 0 - checkpoint * 16;\n    this.$.world.attach(pipeTop);\n\n    const ceilPipe = this.$.world.prepare(this.entities.level['ceil-pipe']());\n    ceilPipe.name = 'ceil-pipe-' + index;\n    ceilPipe.get('position').x = x;\n    this.$.world.attach(ceilPipe);\n\n    const pipeBottom = this.$.world.prepare(this.entities.level['pipe-bottom']());\n    pipeBottom.name = 'pipe-bottom-' + index;\n    pipeBottom.get('position').x = x;\n    pipeBottom.get('position').y = 80 - Math.min(checkpoint, 1) * 16;\n    this.$.world.attach(pipeBottom);\n\n    const floorPipe = this.$.world.prepare(this.entities.level['floor-pipe']());\n    floorPipe.name = 'floor-pipe-' + index;\n    floorPipe.get('position').x = x;\n    this.$.world.attach(floorPipe);\n\n    const pipeShadow = this.$.world.prepare(this.entities.level['pipe-shadow']());\n    pipeShadow.name = 'pipe-shadow-' + index;\n    pipeShadow.get('position').x = x;\n    pipeShadow.get('position').y = 104 + Math.min(checkpoint, 1) * 8;\n    this.$.world.attach(pipeShadow);\n};\n","function random(items) {\n\n    if (typeof items === 'number'\n    && items % 1 === 0\n    && items > 0) {\n\n        return Math.floor(items * Math.random());\n    }\n\n    if (Array.isArray(items)\n    && items.length > 0) {\n\n        return items[Math.floor(items.length * Math.random())];\n    }\n\n    return null;\n}\n\n// exports current module as a function\nexport {random};\n","function Entity(name, components = [], catalog) {\n\n    function add(components) {\n\n        if (Array.isArray(components) === false) {\n\n            components = [components];\n        }\n\n        components.forEach(({name, parameters}) => {\n\n            const $catalog = catalog();\n\n            if (name in $catalog) {\n\n                let reference = $catalog[name]();\n\n                if (this.has(name) === true) {\n\n                    reference = this.get(name);\n\n                    if (typeof parameters === 'object') {\n\n                        Object.entries(parameters).forEach(([parameter, value]) => {\n\n                            reference[parameter] = value;\n                        });\n                    }\n                }\n\n                else if (typeof parameters !== 'undefined') {\n\n                    reference = parameters;\n                }\n\n                this.components[name] = reference;\n            }\n        });\n    }\n\n    function empty() {\n\n        this.components = {};\n    }\n\n    function get(component) {\n\n        return this.components[component];\n    }\n\n    function has(components) {\n\n        if (Array.isArray(components) === false) {\n\n            components = [components];\n        }\n\n        for (let iterator = 0, length = components.length; iterator < length; iterator += 1) {\n\n            const search = components[iterator];\n            const component = search.replace('not:', '');\n            const exclude = search !== component;\n\n            if (this.components.hasOwnProperty(component) === exclude) {\n\n                return false;\n            }\n        }\n\n        return true;\n    }\n\n    function initialize(components) {\n\n        this.empty();\n        this.add(components);\n    }\n\n    function remove(components) {\n\n        if (Array.isArray(components) === false) {\n\n            components = [components];\n        }\n\n        for (let iterator = 0, length = components.length; iterator < length; iterator += 1) {\n\n            const component = components[iterator];\n\n            if (this.components.hasOwnProperty(component) === true) {\n\n                delete this.components[component];\n            }\n        }\n    }\n\n    this.components = {};\n    this.name = name;\n\n    this.add = add;\n    this.empty = empty;\n    this.get = get;\n    this.has = has;\n    this.initialize = initialize;\n    this.remove = remove;\n\n    this.add(components);\n}\n\nfunction World(context, catalog) {\n\n    function add(entities) {\n\n        if (Array.isArray(entities) === false) {\n\n            entities = [entities];\n        }\n\n        entities.forEach((entity) => {\n\n            this.entities[entity.name] = this.prepare(entity);\n        });\n    }\n\n    function attach(entities) {\n\n        if (Array.isArray(entities) === false) {\n\n            entities = [entities];\n        }\n\n        entities.forEach((entity) => {\n\n            this.entities[entity.name] = entity;\n        });\n    }\n\n    function empty() {\n\n        this.entities = {};\n    }\n\n    function get(entity) {\n\n        return this.entities[entity];\n    }\n\n    function initialize(entities) {\n\n        this.empty();\n        this.add(entities);\n    }\n\n    function prepare(entity) {\n\n        return new Entity(entity.name, entity.components, catalog);\n    }\n\n    function remove(entities) {\n\n        if (Array.isArray(entities) === false) {\n\n            entities = [entities];\n        }\n\n        for (let iterator = 0, length = entities.length; iterator < length; iterator += 1) {\n\n            const entity = entities[iterator];\n            const key = entity.name || entity;\n\n            if (this.entities.hasOwnProperty(key) === true) {\n\n                delete this.entities[key];\n            }\n        }\n    }\n\n    function system(name, components, handler, entities = this.entities) {\n\n        const chosen = {};\n\n        Object.entries(entities).forEach(([name, entity]) => {\n\n            if (entity.has(components) === true) {\n\n                chosen[name] = entity;\n            }\n        });\n\n        this.systems[name] = {\n\n            'components': components,\n            'entities': chosen\n        };\n\n        handler.call(context, chosen);\n    }\n\n    this.entities = {};\n    this.systems = {};\n\n    this.add = add;\n    this.attach = attach;\n    this.empty = empty;\n    this.get = get;\n    this.initialize = initialize;\n    this.prepare = prepare;\n    this.remove = remove;\n    this.system = system;\n}\n\n// exports current module as an object\nexport {World};\n","import {World} from 'modules/world.js';\n\nexport default function () {\n\n    return new World(this, () => this.components);\n};\n","import * as Ease from './ease.js';\n\nfunction Camera(context, name, screen) {\n\n    let images = [];\n\n    let shaking = {\n\n        'current': false,\n        'duration': 0,\n        'easing': null,\n        'elapsed': 0,\n        'force': {\n\n            'x': 0,\n            'y': 0\n        },\n        'shift': {\n\n            'x': 0,\n            'y': 0\n        }\n    };\n\n    function add(image) {\n\n        let target = 0;\n\n        for (let iterator = images.length - 1; iterator >= 0; iterator -= 1) {\n\n            const current = images[iterator];\n\n            if (image.destination.z > current.destination.z\n            || image.destination.z === current.destination.z\n            && image.destination.y >= current.destination.y) {\n\n                target = iterator + 1;\n\n                break;\n            }\n        }\n\n        images.splice(target, 0, image);\n    }\n\n    function clean() {\n\n        images = [];\n    }\n\n    function idle() {\n\n        this.shaking = {\n\n            'current': false,\n            'duration': 0,\n            'easing': null,\n            'elapsed': 0,\n            'force': {\n\n                'x': 0,\n                'y': 0\n            },\n            'shift': {\n\n                'x': 0,\n                'y': 0\n            }\n        };\n    }\n\n    function look(x, y) {\n\n        this.position.x = x;\n        this.position.y = y;\n    }\n\n    function render() {\n\n        if (this.screen.opacity === 0) {\n\n            return;\n        }\n\n        images.forEach((image) => {\n\n            const {destination, frame, opacity, source} = image;\n\n            const visible = this.visible(\n\n                destination.x * this.screen.scale(),\n                destination.y * this.screen.scale(),\n                destination.width * this.screen.scale(),\n                destination.height * this.screen.scale()\n            );\n\n            if (opacity > 0\n            && visible === true) {\n\n                const alpha = context.globalAlpha;\n\n                context.globalAlpha = opacity * this.screen.opacity;\n\n                const canvas = {\n\n                    'destination': {\n\n                        'x': this.screen.x() + destination.x * this.screen.scale() - (this.position.x() * this.screen.scale() - this.screen.width() / 2 + this.shaking.shift.x * this.screen.scale()),\n                        'y': this.screen.y() + destination.y * this.screen.scale() - (this.position.y() * this.screen.scale() - this.screen.height() / 2 + this.shaking.shift.y * this.screen.scale()),\n                        'width': destination.width * this.screen.scale(),\n                        'height': destination.height * this.screen.scale()\n                    }\n                };\n\n                const offset = {\n\n                    'top': Math.min(0, canvas.destination.y - this.screen.y()),\n                    'right': Math.max(0, canvas.destination.x + canvas.destination.width - (this.screen.x() + this.screen.width())),\n                    'bottom': Math.max(0, canvas.destination.y + canvas.destination.height - (this.screen.y() + this.screen.height())),\n                    'left': Math.min(0, canvas.destination.x - this.screen.x())\n                };\n\n                context.drawImage(\n\n                    source,\n                    frame.x - offset.left * (frame.width / canvas.destination.width),\n                    frame.y - offset.top * (frame.height / canvas.destination.height),\n                    frame.width - offset.right * (frame.width / canvas.destination.width) - Math.abs(offset.left * (frame.width / canvas.destination.width)),\n                    frame.height - offset.bottom * (frame.height / canvas.destination.height) - Math.abs(offset.top * (frame.height / canvas.destination.height)),\n                    canvas.destination.x - offset.left,\n                    canvas.destination.y - offset.top,\n                    canvas.destination.width - offset.right - Math.abs(offset.left),\n                    canvas.destination.height - offset.bottom - Math.abs(offset.top)\n                );\n\n                context.globalAlpha = alpha;\n            }\n        });\n    }\n\n    function shake(x, y, duration, easing = Ease.reverse(Ease.easeOut(2))) {\n\n        this.idle();\n\n        this.shaking.force = {\n\n            'x': x,\n            'y': y\n        };\n\n        this.shaking.current = true;\n        this.shaking.duration = duration;\n        this.shaking.easing = easing;\n    }\n\n    function update(delta) {\n\n        if (this.shaking.current === false) {\n\n            return;\n        }\n\n        if (this.shaking.elapsed + delta >= this.shaking.duration) {\n\n            this.idle();\n\n            return;\n        }\n\n        this.shaking.elapsed += delta;\n\n        const amplitude = this.shaking.easing(this.shaking.elapsed / this.shaking.duration);\n        const angle = Math.random() * 2 * Math.PI;\n\n        this.shaking.shift.x = Math.round(Math.cos(angle) * this.shaking.force.x * amplitude);\n        this.shaking.shift.y = Math.round(Math.sin(angle) * this.shaking.force.y * amplitude);\n    }\n\n    function visible(x, y, width, height) {\n\n        const camera = {\n\n            'x': this.position.x() * this.screen.scale() - this.screen.width() / 2 + this.shaking.shift.x * this.screen.scale(),\n            'y': this.position.y() * this.screen.scale() - this.screen.height() / 2 + this.shaking.shift.y * this.screen.scale(),\n            'width': this.screen.width(),\n            'height': this.screen.height()\n        };\n\n        if (x + width <= camera.x\n        || x >= camera.x + camera.width\n        || y + height <= camera.y\n        || y >= camera.y + camera.height) {\n\n            return false;\n        }\n\n        return true;\n    }\n\n    this.name = name;\n\n    this.position = {\n\n        'x': () => 0,\n        'y': () => 0\n    };\n\n    this.screen = {\n\n        'x': screen.x,\n        'y': screen.y,\n        'width': screen.width,\n        'height': screen.height,\n        'scale': screen.scale,\n        'opacity': screen.opacity\n    };\n\n    this.shaking = shaking;\n\n    this.add = add;\n    this.clean = clean;\n    this.idle = idle;\n    this.look = look;\n    this.render = render;\n    this.shake = shake;\n    this.update = update;\n    this.visible = visible;\n}\n\n// exports current module as an object\nexport {Camera};\n","import {Camera} from 'modules/camera.js';\n\nexport default function (name, type, width, height, opacity) {\n\n    let scale = () => Math.min((this.size.width / width), (this.size.height / height));\n\n    switch (type) {\n\n        case 'contain-frameless':\n\n            return new Camera(this.context, name, {\n\n                'x': () => 0,\n                'y': () => 0,\n                'width': () => this.size.width,\n                'height': () => this.size.height,\n                'scale': scale,\n                'opacity': opacity\n            });\n\n        break;\n\n        case 'contain-framed':\n\n            return new Camera(this.context, name, {\n\n                'x': () => (this.size.width - width * scale()) / 2,\n                'y': () => (this.size.height - height * scale()) / 2,\n                'width': () => width * scale(),\n                'height': () => height * scale(),\n                'scale': scale,\n                'opacity': opacity\n            });\n\n        break;\n\n        case 'cover':\n\n            scale = () => Math.max((this.size.width / width), (this.size.height / height));\n\n            return new Camera(this.context, name, {\n\n                'x': () => 0,\n                'y': () => 0,\n                'width': () => this.size.width,\n                'height': () => this.size.height,\n                'scale': scale,\n                'opacity': opacity\n            });\n\n        break;\n    }\n};\n"],"sourceRoot":""}